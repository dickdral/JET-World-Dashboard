/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(['./DvtToolkit', './DvtPanZoomCanvas'], function(dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.

var p;function aa(a,b){0==a.indexOf("dvt.")&&(a=a.substring(4));var c=a.split("."),d=eval("dvt");c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}Math.floor(2147483648*Math.random()).toString(36);
function vl(a){this.Init(a)}aa("DvtDiagramLayoutContext",vl);dvt.v.F(vl,dvt.v,"DvtDiagramLayoutContext");
vl.prototype.Init=function(a){this.ji=a?a.ji:null;this.Kr=a?a.Kr:null;this.fy=a?a.fy:0;this.D1=a?a.D1:0;this.Fx=a?a.Fx:!1;this.ona=a?a.ona:null;this.gh=a?a.gh:null;this.Ps=a?a.Ps:null;this.ei=a?a.ei:null;this.oc={};this.je={};this.RG=[];this.P_=[];if(a){for(var b=0;b<this.fy;b++){var c=new wl(a.RG[b]);this.RG.push(c);this.oc[c.getId()]=c}for(var d in a.oc)this.oc[d]||(this.oc[d]=new wl(a.oc[d]));for(b=0;b<this.D1;b++)c=new xl(a.P_[b]),this.P_.push(c),this.je[c.getId()]=c;for(var e in a.je)this.je[e]||
(this.je[e]=new xl(a.je[e]))}};vl.prototype.Ep=function(a){this.ji=a};vl.prototype.zg=function(){return this.ji};vl.prototype.getLayout=vl.prototype.zg;vl.prototype.Kt=function(a){this.Kr=a};vl.prototype.yn=function(){return this.Kr};vl.prototype.getLayoutAttributes=vl.prototype.yn;vl.prototype.zM=function(a){this.ma(a.getId())||(this.fy++,this.RG.push(a));this.oc[a.getId()]=a};vl.prototype.ma=function(a){return this.oc[a]};vl.prototype.getNodeById=vl.prototype.ma;vl.prototype.AF=function(a){return this.RG[a]};
vl.prototype.getNodeByIndex=vl.prototype.AF;vl.prototype.Fg=function(){return this.fy};vl.prototype.getNodeCount=vl.prototype.Fg;function pb(a,b){a.vd(b.getId())||(a.D1++,a.P_.push(b));a.je[b.getId()]=b}vl.prototype.vd=function(a){return this.je[a]};vl.prototype.getLinkById=vl.prototype.vd;vl.prototype.UM=function(a){return this.P_[a]};vl.prototype.getLinkByIndex=vl.prototype.UM;vl.prototype.Yu=function(){return this.D1};vl.prototype.getLinkCount=vl.prototype.Yu;
vl.prototype.Cqb=function(a,b){for(var c=b,d=new td(0,0);c;)if(d.x+=c.YN.x+c.zi().x,d.y+=c.YN.y+c.zi().y,c=c.Ps){if((c=this.ma(c))&&c.Bb()){var e=c.wp();e&&(d.x+=e.left,d.y+=e.top)}}else c=null;return new td(a.x+d.x,a.y+d.y)};vl.prototype.localToGlobal=vl.prototype.Cqb;vl.prototype.Vpb=function(){return this.Fx};vl.prototype.isLocaleR2L=vl.prototype.Vpb;vl.prototype.tmb=function(){return this.ona};vl.prototype.getComponentSize=vl.prototype.tmb;vl.prototype.Kub=function(a){this.gh=a};
vl.prototype.setViewport=vl.prototype.Kub;vl.prototype.$I=function(){return this.gh};vl.prototype.getViewport=vl.prototype.$I;vl.prototype.Aga=function(a){this.Ps=a};vl.prototype.Zua=function(){return this.Ps};vl.prototype.getContainerId=vl.prototype.Zua;vl.prototype.QF=function(a,b,c,d){this.Ps&&(this.ei={},"number"!==typeof a&&"string"!==typeof a&&(d=a.left,b=a.right,c=a.bottom,a=a.top),this.ei.top=a,this.ei.right=b,this.ei.bottom=c,this.ei.left=d)};vl.prototype.setContainerPadding=vl.prototype.QF;
vl.prototype.wp=function(){return this.ei};vl.prototype.getContainerPadding=vl.prototype.wp;vl.prototype.xmb=function(){return this.Cz};vl.prototype.getCurrentViewport=vl.prototype.xmb;vl.prototype.smb=function(a,b){function c(a,b){for(var c=[],d=b.ma(a)?b.ma(a).Ps:null;d;)c.push(d),d=b.ma(d)?b.ma(d).Ps:null;c.reverse();return c}for(var d=c(a,this),e=c(b,this),f=null,h=0;h<d.length&&h<e.length&&d[h]==e[h];h++)f=d[h];return f};vl.prototype.getCommonContainer=vl.prototype.smb;
function xl(a){this.Init(a)}aa("DvtDiagramLayoutContextLink",xl);dvt.v.F(xl,dvt.v,"DvtDiagramLayoutContextLink");xl.prototype.Init=function(a){this.Ac=a?a.Ac:null;this.MW=a?a.MW:null;this.nV=a?a.nV:null;this.Il=a?a.Il:null;this.YP=a?a.YP:null;this.Sz=a?a.Sz:null;this.gw=a?a.gw:null;this.XP=a?a.XP:null;this.Kr=a?a.Kr:null;this.kta=a?a.kta:0;this.roa=a?a.roa:0;this.gQ=a?a.gQ:1;this.Pg=a?a.Pg:!1;this.Zn=a?a.Zn:null;this.qn=a?a.qn:null;this.ij=a?a.ij:!1;this.Ps=a?a.Ps:null};
xl.prototype.setId=function(a){this.Ac=a};xl.prototype.getId=function(){return this.Ac};xl.prototype.getId=xl.prototype.getId;xl.prototype.$Y=function(a){this.MW=a};xl.prototype.Ue=function(){return this.MW};xl.prototype.getStartId=xl.prototype.Ue;xl.prototype.JY=function(a){this.nV=a};xl.prototype.Ed=function(){return this.nV};xl.prototype.getEndId=xl.prototype.Ed;xl.prototype.ke=function(a){this.Il="string"==typeof a?dvt.M.H3(a):a};xl.prototype.setPoints=xl.prototype.ke;xl.prototype.dd=function(){return this.Il};
xl.prototype.getPoints=xl.prototype.dd;xl.prototype.Hg=function(a){this.YP=a};xl.prototype.setLabelPosition=xl.prototype.Hg;xl.prototype.Ye=function(){return this.YP};xl.prototype.getLabelPosition=xl.prototype.Ye;xl.prototype.iv=function(a){this.XP=a};xl.prototype.yg=function(){return this.XP};xl.prototype.getLabelBounds=xl.prototype.yg;xl.prototype.R4=function(){return this.kta};xl.prototype.getStartConnectorOffset=xl.prototype.R4;xl.prototype.j4=function(){return this.roa};
xl.prototype.getEndConnectorOffset=xl.prototype.j4;xl.prototype.BN=function(a){this.gQ=a};xl.prototype.wA=function(){return this.gQ};xl.prototype.getLinkWidth=xl.prototype.wA;xl.prototype.Kt=function(a){this.Kr=a};xl.prototype.yn=function(){return this.Kr};xl.prototype.getLayoutAttributes=xl.prototype.yn;xl.prototype.mc=function(a){this.Pg=a};xl.prototype.cwa=function(){return this.Pg};xl.prototype.getSelected=xl.prototype.cwa;xl.prototype.uJ=function(a){this.Zn=a};
xl.prototype.setLabelRotationAngle=xl.prototype.uJ;xl.prototype.tF=function(){return this.Zn};xl.prototype.getLabelRotationAngle=xl.prototype.tF;xl.prototype.UF=function(a){this.qn=a};xl.prototype.setLabelRotationPoint=xl.prototype.UF;xl.prototype.uF=function(){return this.qn};xl.prototype.getLabelRotationPoint=xl.prototype.uF;xl.prototype.xJ=function(a){this.ij=a};xl.prototype.zWa=function(){return this.ij};xl.prototype.isPromoted=xl.prototype.zWa;xl.prototype.bza=function(a){this.Sz=a};
xl.prototype.setLabelValign=xl.prototype.bza;xl.prototype.aza=function(a){this.gw=a};xl.prototype.setLabelHalign=xl.prototype.aza;xl.prototype.yva=function(){return this.Sz};xl.prototype.getLabelValign=xl.prototype.yva;xl.prototype.JX=function(){return this.gw};xl.prototype.getLabelHalign=xl.prototype.JX;xl.prototype.stb=function(a){this.x0=a};xl.prototype.setCoordinateSpace=xl.prototype.stb;xl.prototype.umb=function(){return this.x0};xl.prototype.getCoordinateSpace=xl.prototype.umb;
xl.prototype.setData=function(a){this.Qb=a};xl.prototype.getData=function(){return this.Qb};xl.prototype.getData=xl.prototype.getData;function wl(a){this.Init(a)}aa("DvtDiagramLayoutContextNode",wl);dvt.v.F(wl,dvt.v,"DvtDiagramLayoutContextNode");
wl.prototype.Init=function(a){this.Ac=a?a.Ac:null;this.Ae=a?a.Ae:null;this.w0=a?a.w0:null;this.aM=a?a.aM:null;this.YP=a?a.YP:null;this.XP=a?a.XP:null;this.Sz=a?a.Sz:null;this.gw=a?a.gw:null;this.Kr=a?a.Kr:null;this.Jma=a?a.Jma:!1;this.Ps=a?a.Ps:null;this.Pg=a?a.Pg:!1;this.Zn=a?a.Zn:null;this.qn=a?a.qn:null;this.ei=a?a.ei:null;this.nw=a?a.nw:null;this.ow=a?a.ow:null;this.gn=a?a.gn:!1;this.XN=a?a.Ma():null;this.CD=!0;this.YN=new td(0,0)};wl.prototype.setId=function(a){this.Ac=a};
wl.prototype.getId=function(){return this.Ac};wl.prototype.getId=wl.prototype.getId;wl.prototype.Uf=function(){!this.CD&&this.XN&&this.XN.oJ(this);return this.Ae};wl.prototype.getBounds=wl.prototype.Uf;wl.prototype.mi=function(){!this.CD&&this.XN&&this.XN.oJ(this);return this.w0};wl.prototype.getContentBounds=wl.prototype.mi;wl.prototype.setPosition=function(a){this.aM=a;yl(this,this)};wl.prototype.setPosition=wl.prototype.setPosition;wl.prototype.zi=function(){return this.aM};
wl.prototype.getPosition=wl.prototype.zi;wl.prototype.kob=function(a){var b=this.hDa;if(b){for(var c=new td(0,0),d=this,e=!1;d;){var f=d.Ps;if(f){var h=b.ma(f);h&&this.XN&&!h.CD&&this.XN.oJ(h)}c.x+=d.YN.x+d.zi().x;c.y+=d.YN.y+d.zi().y;if(f!=a)if((d=b.ma(f))&&d.Bb()){if(f=d.wp())c.x+=f.left,c.y+=f.top}else d=null;else e=!0,d=null}e||(c=null);return c}};wl.prototype.getRelativePosition=wl.prototype.kob;wl.prototype.Hg=function(a){this.YP=a};wl.prototype.setLabelPosition=wl.prototype.Hg;
wl.prototype.Ye=function(){return this.YP};wl.prototype.getLabelPosition=wl.prototype.Ye;wl.prototype.iv=function(a){this.XP=a};wl.prototype.yg=function(){return this.XP};wl.prototype.getLabelBounds=wl.prototype.yg;wl.prototype.Kt=function(a){this.Kr=a};wl.prototype.yn=function(){return this.Kr};wl.prototype.getLayoutAttributes=wl.prototype.yn;wl.prototype.WF=function(a){this.Jma=a};wl.prototype.nY=function(){return this.Jma};wl.prototype.isReadOnly=wl.prototype.nY;
wl.prototype.Aga=function(a){this.Ps=a};wl.prototype.Zua=function(){return this.Ps};wl.prototype.getContainerId=wl.prototype.Zua;wl.prototype.mc=function(a){this.Pg=a};wl.prototype.cwa=function(){return this.Pg};wl.prototype.getSelected=wl.prototype.cwa;wl.prototype.uJ=function(a){this.Zn=a};wl.prototype.setLabelRotationAngle=wl.prototype.uJ;wl.prototype.tF=function(){return this.Zn};wl.prototype.getLabelRotationAngle=wl.prototype.tF;wl.prototype.UF=function(a){this.qn=a};
wl.prototype.setLabelRotationPoint=wl.prototype.UF;wl.prototype.uF=function(){return this.qn};wl.prototype.getLabelRotationPoint=wl.prototype.uF;wl.prototype.QF=function(a,b,c,d){this.Bb()&&(this.ei={},"number"!==typeof a&&"string"!==typeof a&&(d=a.left,b=a.right,c=a.bottom,a=a.top),this.ei.top=a,this.ei.right=b,this.ei.bottom=c,this.ei.left=d,this.nw&&(this.Ae=new yb(this.nw.x,this.nw.y,this.nw.w+d+b,this.nw.h+a+c)),this.ow&&(this.w0=new yb(this.ow.x,this.ow.y,this.ow.w+d+b,this.ow.h+a+c)))};
wl.prototype.setContainerPadding=wl.prototype.QF;wl.prototype.wp=function(){return this.ei};wl.prototype.getContainerPadding=wl.prototype.wp;wl.prototype.Ii=function(a){this.gn=a};wl.prototype.Bb=function(){return this.gn};wl.prototype.isDisclosed=wl.prototype.Bb;wl.prototype.K5=function(a){this.f$a=a};wl.prototype.Ge=function(){return this.f$a};wl.prototype.getChildNodes=wl.prototype.Ge;wl.prototype.LS=function(a){this.LE=a};wl.prototype.qq=function(){return this.LE};wl.prototype.getParentNode=wl.prototype.qq;
function yl(a,b){var c=b.qq();c&&c.CD&&(c.CD=!1,yl(a,c))}wl.prototype.bza=function(a){this.Sz=a};wl.prototype.setLabelValign=wl.prototype.bza;wl.prototype.aza=function(a){this.gw=a};wl.prototype.setLabelHalign=wl.prototype.aza;wl.prototype.yva=function(){return this.Sz};wl.prototype.getLabelValign=wl.prototype.yva;wl.prototype.JX=function(){return this.gw};wl.prototype.getLabelHalign=wl.prototype.JX;wl.prototype.setData=function(a){this.Qb=a};wl.prototype.getData=function(){return this.Qb};
wl.prototype.getData=wl.prototype.getData;function td(a,b){this.Init(a,b)}aa("DvtDiagramPoint",td);dvt.v.F(td,dvt.v,"DvtDiagramPoint");td.prototype.Init=function(a,b){this.x=null===a||isNaN(a)?0:a;this.y=null===b||isNaN(b)?0:b};function yb(a,b,c,d){this.Init(a,b,c,d)}aa("DvtDiagramRectangle",yb);dvt.v.F(yb,dvt.v,"DvtDiagramRectangle");yb.prototype.Init=function(a,b,c,d){this.x=null===a||isNaN(a)?0:a;this.y=null===b||isNaN(b)?0:b;this.w=null===c||isNaN(c)?0:c;this.h=null===d||isNaN(d)?0:d};
dvt.dc={};dvt.v.F(dvt.dc,dvt.v);dvt.dc.Iyb=function(a,b,c){a&&b&&a instanceof za&&b instanceof za?dvt.dc.a4a(a,b,c):a&&b&&a instanceof dvt.xe&&b instanceof dvt.xe?dvt.dc.$3a(a,b,c):a&&b&&dvt.dc.xFa(a,b,c)};dvt.dc.a4a=function(a,b,c){dvt.dc.tib(a,b,c);var d=a.jd?a.jd():null,e=b.jd?b.jd():null;c&&(a.Va()!=b.Va()&&c.O(dvt.G.V,a,a.Va,a.Aa,b.Va()),a.jb()!=b.jb()&&c.O(dvt.G.V,a,a.jb,a.fb,b.jb()),d&&e&&d instanceof dvt.Zb&&e instanceof dvt.Zb&&d.gc()!=e.gc()&&c.O(dvt.G.vo,a,a.jd,a.qa,e))};
dvt.dc.xFa=function(a,b,c){var d=a.aa(a.u().Ee),e=b.aa(b.u().Ee),f=a.jd?a.jd():null,h=b.jd?b.jd():null,k=a.Zd?a.Zd():null,l=b.Zd?b.Zd():null;if(c){var n=b=1;d.a!=e.a&&(b=e.a/d.a);d.b!=e.b&&(n=e.b/d.b);var m=0,r=0;d.x!=e.x&&(m=e.x-d.x);d.y!=e.y&&(r=e.y-d.y);f&&h&&f instanceof dvt.Zb&&h instanceof dvt.Zb&&f.gc()!=h.gc()&&c.O(dvt.G.vo,a,a.jd,a.qa,h);k&&l&&k instanceof dvt.xa&&l instanceof dvt.xa&&k.gc()!=l.gc()&&c.O(dvt.G.wK,a,a.Zd,a.Ga,l);if(0!=m||0!=r||1!=b||1!=n)e=new dvt.Vb,e.translate(-d.x,-d.y),
e.scale(b,n),e.translate(d.x,d.y),e.translate(m,r),d=a.sb().clone(),d.concat(e),c.O(dvt.G.gj,a,a.sb,a.rb,d)}};dvt.dc.tib=function(a,b,c){if(c){var d=dvt.dc.a1(a);b=dvt.dc.a1(b);d.Le(b)||(d=dvt.dc.a1(a.getParent()),d.HF(),b.concat(d),c.O(dvt.G.gj,a,a.sb,a.rb,b))}};dvt.dc.a1=function(a){var b=[a];for(a=a.getParent();a;)b.push(a),a=a.getParent();a=new dvt.Vb;for(var c=0;c<b.length;c++)a.concat(b[c].sb());return a};
dvt.dc.$3a=function(a,b,c){var d=dvt.dc.$Ia(a),e=dvt.dc.$Ia(b);if(d&&e){a!=d&&(dvt.dc.ohb(a,d),a=d);var d=a.jd?a.jd():null,f=b.jd?b.jd():null;c&&(d&&f&&d instanceof dvt.Zb&&f instanceof dvt.Zb&&d.gc()!=f.gc()&&c.O(dvt.G.vo,a,a.jd,a.qa,f),b=dvt.dc.a1(b),dvt.dc.s9a(a,e,c,b))}else dvt.dc.xFa(a,b,c)};dvt.dc.$Ia=function(a){if(a instanceof dvt.vb)return a;var b=dvt.dc.xcb(a);return b?new dvt.vb(a.u(),b):null};
dvt.dc.ohb=function(a,b){var c=a.jd(),d=a.Zd(),e=a.sb(),f=a.getParent().yi(a);a.getParent().Ib(b,f);a.qa(null);a.Ga(null);a.rb(null);b.qa(c);b.Ga(d);b.rb(e);c=a.Pb();for(d=0;d<c;d++)b.A(a.ib(0));a.getParent().removeChild(a);a.ya&&a.ya()};
dvt.dc.xcb=function(a){var b;if(a instanceof dvt.Rect){var c=a.hr(),d=a.av(),e=a.Va(),f=a.jb(),h=a.getWidth(),k=a.getHeight();if(c&&d){a=.5*Math.PI;var l=Math.cos(.5*a),n=Math.sin(.5*a),m=l,r=-n,q=(4-l)/3,w=(1-l)*(3-l)/(3*n);b=q;var x=-w,l=new dvt.R(l,n),m=new dvt.R(m,r),q=new dvt.R(q,w),x=new dvt.R(b,x),w=new dvt.Vb;w.rotate(.5*a);w.scale(c,d);a=w.mf(q);var l=w.mf(x),v=e+h-c,z=f+d;b=["M",e+c,f,"L",e+h-c,f,"C",v+a.x,z-a.y,v+l.x,z-l.y,e+h,f+d];z=f+k-d;b.push("L",e+h,f+k-d,"C",v+l.x,z+l.y,v+a.x,z+a.y,
e+h-c,f+k);v=e+c;b.push("L",e+c,f+k,"C",v-a.x,z+a.y,v-l.x,z+l.y,e,f+k-d);z=f+d;b.push("L",e,f+d,"C",v-l.x,z-l.y,v-a.x,z-a.y,e+c,f,"Z")}else b=["M",e,f,"L",e+h,f,"L",e+h,f+k,"L",e,f+k,"Z"]}else if(a instanceof dvt.ux||a instanceof dvt.ti){if(c=a.dd()){b=[];for(f=0;f<c.length;f+=2)0==f?b.push("M",c[f],c[f+1]):b.push("L",c[f],c[f+1]);a instanceof dvt.ti&&b.push("Z")}}else if(a instanceof dvt.Ec)b=["M",a.es(),a.fs(),"L",a.Bt(),a.Ct()];else if(a instanceof dvt.Zm){v=a.pk();z=a.qk();a instanceof dvt.Gv?
(c=a.hr(),d=a.av()):d=c=a.jo();e=-.5*Math.PI;a=2*Math.PI/4;l=Math.cos(.5*a);n=Math.sin(.5*a);m=l;r=-n;q=(4-l)/3;w=(1-l)*(3-l)/(3*n);b=q;x=-w;l=new dvt.R(l,n);m=new dvt.R(m,r);q=new dvt.R(q,w);x=new dvt.R(b,x);b=[];for(f=0;4>f;f++)w=new dvt.Vb,w.rotate(e+f*a),w.scale(c,d),0==f&&(h=w.mf(m),b.push("M",v+h.x,z+h.y)),h=w.mf(x),k=w.mf(q),w=w.mf(l),b.push("C",v+h.x,z+h.y,v+k.x,z+k.y,v+w.x,z+w.y);b.push("Z")}else a instanceof dvt.sg&&(c=a.py()*dvt.Math.BG,d=a.mq()*dvt.Math.BG,b=["M",a.pk()+a.hr()*Math.cos(c),
a.qk()-a.av()*Math.sin(c),"A",a.hr(),a.av(),"0",180<Math.abs(a.mq())?"1":"0",0<a.mq()?"0":"1",a.pk()+a.hr()*Math.cos(c+d),a.qk()-a.av()*Math.sin(c+d)],a.pP===dvt.sg.$S?b.push("Z"):a.pP===dvt.sg.Eja&&b.push("L",a.pk(),a.qk(),"Z"));return b};dvt.dc.BH=function(a,b){for(;b<a.length&&!isNaN(a[b]);)b++;return b};dvt.dc.xV=function(a,b){for(;-1<b&&!isNaN(a[b]);)b--;return b};dvt.dc.fJa=function(a){for(var b=0,c=0;c<a.length;c++)isNaN(a[c])&&b++;return b};
dvt.dc.teb=function(a,b){var c=dvt.dc.fJa(a),d=dvt.dc.fJa(b);if(c!=d){var e=0,f=0;c>d?(e=c-d,f=d,c=b):(e=d-c,f=c,c=a);d=Math.floor(f/e);1>d&&(d=1);f=Math.floor(e/f);1>f&&(f=1);for(var h=-1,k=0;k<c.length;k++)if(isNaN(c[k])){if(h==d)for(var l=h=0;l<f;l++)c.splice(k++,0,"tmp"),e--;h++}for(k=0;k<e;k++)"Z"==c[c.length-1]?c.splice(c.length-1,0,"tmp"):c.push("tmp")}};dvt.dc.LNa=function(a){return 2<a.length&&"Z"==a[a.length-1]?(a.splice(a.length-1,1),a.push("L",a[1],a[2]),!0):!1};
dvt.dc.s9a=function(a,b,c,d){b=dvt.dc.zTa(a.ER(),b.ER());var e=dvt.dc.a1(a);e&&dvt.dc.rRa(b.wza,e);a.rb(null);d&&dvt.dc.rRa(b.vza,d);a.Ht(b.wza);c.O(dvt.G.sm,a,a.ER,a.Ht,b.vza)};
dvt.dc.zTa=function(a,b){var c=dvt.na.copy(a),d=dvt.na.copy(b),e=[],f=[];dvt.dc.qNa(c);dvt.dc.qNa(d);dvt.dc.tNa(c);dvt.dc.tNa(d);dvt.dc.uNa(c);dvt.dc.uNa(d);dvt.dc.vNa(c);dvt.dc.vNa(d);var h=dvt.dc.wIa(c),k=dvt.dc.wIa(d);dvt.dc.KQa(h);dvt.dc.KQa(k);for(var l=0;l<Math.max(h.length,k.length);l++){var n=[],m=[],r=null,q=null;l<h.length?r=h[l]:(r=["M",c[1],c[2]],"Z"==k[l][k[l].length-1]&&r.push("Z"));l<k.length?q=k[l]:(q=["M",d[1],d[2]],"Z"==h[l][h[l].length-1]&&q.push("Z"));dvt.dc.t9a(r,q,n,m);f=f.concat(n);
e=e.concat(m)}return{wza:f,vza:e}};dvt.dc.wIa=function(a){for(var b=[],c=0,d=1;d<a.length;d++)if("M"==a[d]||"m"==a[d])b.push(a.slice(c,d)),c=d;1>b.length?b.push(a):c<a.length&&b.push(a.slice(c));return b};dvt.dc.KQa=function(a){a.sort(dvt.dc.l$a)};dvt.dc.l$a=function(a,b){var c=dvt.dc.DIa(a),d=dvt.dc.DIa(b);return c>d?-1:d>c?1:0};
dvt.dc.DIa=function(a){for(var b=0,c=0,d=0,e=0,f=0,h=0,k=0,l=0;l<a.length;){switch(a[l]){case "M":f=a[l+1];h=a[l+2];break;case "L":b=a[l+1];c=a[l+2];break;case "C":b=a[l+5];c=a[l+6];break;case "Q":b=a[l+3];c=a[l+4];break;case "A":b=a[l+6];c=a[l+7];break;case "Z":b=f,c=h}k+=Math.sqrt((b-d)*(b-d)+(c-e)*(c-e));l=dvt.dc.BH(a,l+1);d=b;e=c}return k};
dvt.dc.t9a=function(a,b,c,d){var e=dvt.dc.LNa(a),f=dvt.dc.LNa(b);if(e||a[a.length-2]==a[1]&&a[a.length-1]==a[2])a=dvt.dc.sNa(a),a=dvt.dc.rNa(a);if(f||b[b.length-2]==b[1]&&b[b.length-1]==b[2])b=dvt.dc.sNa(b),b=dvt.dc.rNa(b);dvt.dc.teb(a,b);dvt.dc.r9a(a,b,c,d);e&&a.push("Z");f&&b.push("Z")};
dvt.dc.r9a=function(a,b,c,d){for(var e=0,f=0,h=0,k=0,l=0,n=0,m=!1,r=!1;-1<e||-1<f;){var q=-1<e?a[e]:null,w=-1<f?b[f]:null,x=-1<e?dvt.dc.BH(a,e+1):-1,v=-1<f?dvt.dc.BH(b,f+1):-1;if(q==w){for(;f<v;f++)d.push(b[f]);for(f=e;f<x;f++)c.push(a[f])}else q&&"tmp"!=q?w&&"tmp"!=w?"L"==q?"Q"==w?(d.push("Q",b[f+1],b[f+2],b[f+3],b[f+4]),c.push("Q",h+.5*(a[e+1]-h),k+.5*(a[e+2]-k),a[e+1],a[e+2])):"C"==w?(d.push("C",b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6]),c.push("C",h+.5*(a[e+1]-h),k+.5*(a[e+2]-k),h+.5*(a[e+1]-
h),k+.5*(a[e+2]-k),a[e+1],a[e+2])):"A"==w?(d.push("L",l,n,"A",b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6],b[f+7]),c.push("L",a[e+1],a[e+2],"A",0,0,b[f+3],b[f+4],b[f+5],a[e+1],a[e+2])):"Z"==w&&(m=!0,d.push("L",l,n),c.push("L",a[e+1],a[e+2])):"Q"==q?"L"==w?(d.push("Q",l+.5*(b[f+1]-l),n+.5*(b[f+2]-n),b[f+1],b[f+2]),c.push("Q",a[e+1],a[e+2],a[e+3],a[e+4])):"C"==w?(d.push("C",b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6]),c.push("C",a[e+1],a[e+2],a[e+1],a[e+2],a[e+3],a[e+4])):"A"==w?(d.push("Q",l,n,l,n,"A",
b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6],b[f+7]),c.push("Q",a[e+1],a[e+2],a[e+3],a[e+4],"A",0,0,b[f+3],b[f+4],b[f+5],a[e+3],a[e+4])):"Z"==w&&(m=!0,d.push("Q",l,n,l,n),c.push("Q",a[e+1],a[e+2],a[e+3],a[e+4])):"C"==q?"L"==w?(d.push("C",l+.5*(b[f+1]-l),n+.5*(b[f+2]-n),l+.5*(b[f+1]-l),n+.5*(b[f+2]-n),b[f+1],b[f+2]),c.push("C",a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6])):"Q"==w?(d.push("C",b[f+1],b[f+2],b[f+1],b[f+2],b[f+3],b[f+4]),c.push("C",a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6])):"A"==w?(d.push("C",
l,n,l,n,l,n,"A",b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6],b[f+7]),c.push("C",a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6],"A",0,0,b[f+3],b[f+4],b[f+5],a[e+5],a[e+6])):"Z"==w&&(m=!0,d.push("C",l,n,l,n,l,n),c.push("C",a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6])):"A"==q?"L"==w?(d.push("L",b[f+1],b[f+2],"A",0,0,a[e+3],a[e+4],a[e+5],b[f+1],b[f+2]),c.push("L",h,k,"A",a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6],a[e+7])):"Q"==w?(d.push("Q",b[f+1],b[f+2],b[f+3],b[f+4],"A",0,0,a[e+3],a[e+4],a[e+5],b[f+3],b[f+4]),
c.push("Q",h,k,h,k,"A",a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6],a[e+7])):"C"==w?(d.push("C",b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6],"A",0,0,a[e+3],a[e+4],a[e+5],b[f+5],b[f+6]),c.push("C",h,k,h,k,h,k,"A",a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6],a[e+7])):"Z"==w&&(m=!0,d.push("A",0,0,a[e+3],a[e+4],a[e+5],l,n),c.push("A",a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6],a[e+7])):"Z"==q&&(r=!0,"L"==w?(d.push("L",b[f+1],b[f+2]),c.push("L",h,k)):"Q"==w?(d.push("Q",b[f+1],b[f+2],b[f+3],b[f+4]),c.push("Q",h,k,
h,k)):"C"==w?(d.push("C",b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6]),c.push("C",h,k,h,k,h,k)):"A"==w&&(d.push("A",b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6],b[f+7]),c.push("A",0,0,b[f+3],b[f+4],b[f+5],h,k))):"L"==q?(d.push("L",l,n),c.push("L",a[e+1],a[e+2])):"Q"==q?(d.push("Q",l,n,l,n),c.push("Q",a[e+1],a[e+2],a[e+3],a[e+4])):"C"==q?(d.push("C",l,n,l,n,l,n),c.push("C",a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6])):"A"==q?(d.push("A",0,0,a[e+3],a[e+4],a[e+5],l,n),c.push("A",a[e+1],a[e+2],a[e+3],a[e+4],
a[e+5],a[e+6],a[e+7])):"Z"==q&&(d.push("Z"),c.push("Z")):"L"==w?(d.push("L",b[f+1],b[f+2]),c.push("L",h,k)):"Q"==w?(d.push("Q",b[f+1],b[f+2],b[f+3],b[f+4]),c.push("Q",h,k,h,k)):"C"==w?(d.push("C",b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6]),c.push("C",h,k,h,k,h,k)):"A"==w?(d.push("A",b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6],b[f+7]),c.push("A",0,0,b[f+3],b[f+4],b[f+5],h,k)):"Z"==w&&(d.push("Z"),c.push("Z"));-1<x&&"Z"!=q&&"tmp"!=q&&(h=a[x-2],k=a[x-1]);-1<v&&"Z"!=w&&"tmp"!=w&&(l=b[v-2],n=b[v-1]);e=x;
f=v;if(e>=a.length||0>e)e=-1;if(f>=b.length||0>f)f=-1}if(r||m)d.push("Z"),c.push("Z")};
dvt.dc.rNa=function(a){if(!dvt.dc.Vdb(a)){for(var b=["M"],c=dvt.dc.xV(a,a.length-1);-1<c;){var d=a[c];switch(d){case "M":b.push(a[c+1],a[c+2]);break;case "L":b.push(a[c+1],a[c+2]);b.push(d);break;case "Q":b.push(a[c+3],a[c+4]);b.push(d);b.push(a[c+1],a[c+2]);break;case "C":b.push(a[c+5],a[c+6]);b.push(d);b.push(a[c+3],a[c+4]);b.push(a[c+1],a[c+2]);break;case "A":b.push(a[c+6],a[c+7]),b.push(d),b.push(a[c+1],a[c+2],a[c+3],a[c+4]),b.push(0==a[c+5]?1:0)}c=dvt.dc.xV(a,c-1)}return b}return a};
dvt.dc.Vdb=function(a){for(var b=[],c=0,d=Number.MAX_VALUE,e=Number.MAX_VALUE,f=dvt.dc.xV(a,a.length-1),h=1;h<f;){h=dvt.dc.BH(a,h);if(0<h-2&&"Z"!=a[h-1]){var k=a[h-2],l=a[h-1];b.push(k,l);if(l<e||l==e&&k<d)d=k,e=l,c=b.length-2}h+=1}k=h=f=a=0;0<c?(a=b[c-2],f=b[c-1]):(a=b[b.length-2],f=b[b.length-1]);c<b.length-2?(h=b[c+2],k=b[c+3]):(h=b[0],k=b[1]);return 0>d*k+a*e+f*h-(f*d+e*h+a*k)?!1:!0};
dvt.dc.sNa=function(a){for(var b=0,c=Number.MAX_VALUE,d=Number.MAX_VALUE,e=0,f=dvt.dc.xV(a,a.length-1),h=1;h<f;){var k=dvt.dc.BH(a,h);if(0<k-2&&"Z"!=a[k-1]){var h=a[k-2],l=a[k-1];if(l<d||l==d&&h<c)c=h,d=l,b=e}h=k+1;e=k}return 0<b?(k=dvt.dc.BH(a,b+1),b=["M"],c=a.slice(k-2,a.length),b=b.concat(c),c=a.slice(3,k),b=b.concat(c)):a};
dvt.dc.pcb=function(a){switch(a){case "H":case "h":case "V":case "v":return 1;case "M":case "m":case "L":case "l":case "T":case "t":return 2;case "Q":case "q":case "S":case "s":return 4;case "C":case "c":return 6;case "A":case "a":return 7}return 0};
dvt.dc.qNa=function(a){for(var b=0;b<a.length;){var c=a[b],d=dvt.dc.pcb(c);switch(c){case "M":b+d+1<a.length&&!isNaN(a[b+d+1])&&a.splice(b+d+1,0,"L");break;case "m":b+d+1<a.length&&!isNaN(a[b+d+1])&&a.splice(b+d+1,0,"l");break;case "Z":case "z":break;default:b+d+1<a.length&&!isNaN(a[b+d+1])&&a.splice(b+d+1,0,c)}b+=d+1}};
dvt.dc.tNa=function(a){for(var b=0,c=0,d=0,e=0,f=0;f<a.length;){switch(a[f]){case "m":a[f]="M";0<f&&(a[f+1]=b+a[f+1],a[f+2]=c+a[f+2]);b=a[f+1];c=a[f+2];d=b;e=c;break;case "l":a[f]="L";a[f+1]=b+a[f+1];a[f+2]=c+a[f+2];b=a[f+1];c=a[f+2];break;case "h":a[f]="H";a[f+1]=b+a[f+1];b=a[f+1];break;case "v":a[f]="V";a[f+1]=c+a[f+1];c=a[f+1];break;case "c":a[f]="C";a[f+1]=b+a[f+1];a[f+2]=c+a[f+2];a[f+3]=b+a[f+3];a[f+4]=c+a[f+4];a[f+5]=b+a[f+5];a[f+6]=c+a[f+6];b=a[f+5];c=a[f+6];break;case "s":a[f]="S";a[f+1]=
b+a[f+1];a[f+2]=c+a[f+2];a[f+3]=b+a[f+3];a[f+4]=c+a[f+4];b=a[f+3];c=a[f+4];break;case "q":a[f]="Q";a[f+1]=b+a[f+1];a[f+2]=c+a[f+2];a[f+3]=b+a[f+3];a[f+4]=c+a[f+4];b=a[f+3];c=a[f+4];break;case "t":a[f]="T";a[f+1]=b+a[f+1];a[f+2]=c+a[f+2];b=a[f+1];c=a[f+2];break;case "a":a[f]="A";a[f+6]=b+a[f+6];a[f+7]=c+a[f+7];b=a[f+6];c=a[f+7];break;case "z":a[f]="Z";b=d;c=e;break;case "M":b=a[f+1];c=a[f+2];d=b;e=c;break;case "L":b=a[f+1];c=a[f+2];break;case "H":b=a[f+1];break;case "V":c=a[f+1];break;case "C":b=a[f+
5];c=a[f+6];break;case "S":b=a[f+3];c=a[f+4];break;case "Q":b=a[f+3];c=a[f+4];break;case "T":b=a[f+1];c=a[f+2];break;case "A":b=a[f+6];c=a[f+7];break;case "Z":b=d,c=e}f=dvt.dc.BH(a,f+1)}};
dvt.dc.uNa=function(a){for(var b=0,c=0,d=0,e=0,f=0;f<a.length;){switch(a[f]){case "M":b=a[f+1];c=a[f+2];d=b;e=c;break;case "L":b=a[f+1];c=a[f+2];break;case "H":b=a[f+1];a[f]="L";a.splice(f+2,0,c);break;case "V":c=a[f+1];a[f]="L";a.splice(f+1,0,b);break;case "C":b=a[f+5];c=a[f+6];break;case "S":var h=dvt.dc.xV(a,f-1),k=b,l=c;"C"==a[h]&&(l=a[h+4],k=b+(b-a[h+3]),l=c+(c-l));a[f]="C";a.splice(f+1,0,k,l);b=a[f+5];c=a[f+6];break;case "Q":b=a[f+3];c=a[f+4];break;case "T":h=dvt.dc.xV(a,f-1);k=b;l=c;"Q"==a[h]&&
(l=a[h+2],k=b+(b-a[h+1]),l=c+(c-l));a[f]="Q";a.splice(f+1,0,k,l);b=a[f+3];c=a[f+4];break;case "A":b=a[f+6];c=a[f+7];break;case "Z":b=d,c=e}f=dvt.dc.BH(a,f+1)}};dvt.dc.vNa=function(a){for(var b=0,c=0,d=0;d<a.length;d++)"Z"==a[d]?d+1<a.length&&"M"!=a[d+1]&&"m"!=a[d+1]&&a.splice(d+1,0,"M",b,c):"M"==a[d]&&(b=a[d+1],c=a[d+2])};
dvt.dc.rRa=function(a,b){for(var c=null,d=0;d<a.length;){switch(a[d]){case "M":case "L":c=b.mf(new dvt.R(a[d+1],a[d+2]));a[d+1]=c.x;a[d+2]=c.y;break;case "Q":c=b.mf(new dvt.R(a[d+1],a[d+2]));a[d+1]=c.x;a[d+2]=c.y;c=b.mf(new dvt.R(a[d+3],a[d+4]));a[d+3]=c.x;a[d+4]=c.y;break;case "C":c=b.mf(new dvt.R(a[d+1],a[d+2]));a[d+1]=c.x;a[d+2]=c.y;c=b.mf(new dvt.R(a[d+3],a[d+4]));a[d+3]=c.x;a[d+4]=c.y;c=b.mf(new dvt.R(a[d+5],a[d+6]));a[d+5]=c.x;a[d+6]=c.y;break;case "A":var c=b.mf(new dvt.R(0,0)),e=b.mf(new dvt.R(a[d+
1],0)),f=b.mf(new dvt.R(0,a[d+2])),f=Math.sqrt((f.x-c.x)*(f.x-c.x)+(f.y-c.y)*(f.y-c.y));a[d+1]=Math.sqrt((e.x-c.x)*(e.x-c.x)+(e.y-c.y)*(e.y-c.y));a[d+2]=f;c=b.mf(new dvt.R(a[d+6],a[d+7]));a[d+6]=c.x;a[d+7]=c.y}d=dvt.dc.BH(a,d+1)}};function ha(a,b,c){this.Init(a,b,c)}aa("DvtBaseDiagram",ha);dvt.v.F(ha,dvt.hc,"DvtBaseDiagram");p=ha.prototype;
p.Init=function(a,b,c){ha.C.Init.call(this,a,b,c);this.u().Ee.Qa().setAttributeNS(null,"text-rendering","geometricPrecision");this.z1;this.VV=this.Lr=null;this.p1;this.Gma=!0;this.Yp=new dvt.la(a);this.Gl=new dvt.la(a);this.jA=new dvt.la(a);this.en=dvt.ud.yAa;this.XCa()};p.GT=function(){var a=this.Oa;a.mD(this.RI());a.SA(this.xF());a.jD(this.ob());a.Pa.A(this.Yp);a.Pa.A(this.Gl);a.Pa.A(this.jA)};p.jD=function(a){this.en=a;this.Oa&&this.Oa.jD(a)};p.ob=function(){return this.en};
p.SA=function(a){this.XB=a;this.Oa&&this.Oa.SA(a)};p.xF=function(){return this.XB};p.mD=function(a){this.ZB=a;this.Oa&&this.Oa.mD(a)};p.RI=function(){return this.ZB};p.XCa=function(){this.SA(2);this.mD(0)};p.ma=function(){return null};p.vd=function(){return null};p.QJ=function(){return[]};p.RJ=function(){return[]};p.Fg=function(){return this.RJ().length};ha.prototype.getNodeCount=ha.prototype.Fg;ha.prototype.Yu=function(){return this.QJ().length};ha.prototype.getLinkCount=ha.prototype.Yu;
function ub(a,b){if(b&&a.kn)a.lL?(a.lL.Aa(a.wb/2),a.lL.fb(a.Nb/2),dvt.Ca.hd(a.lL,a.getWidth()-2*dvt.Ca.gia,Infinity,a)):a.lL=a.sAa(a.kn);else if(a.lL){var c=a.lL.getParent();c&&c.removeChild(a.lL);a.lL=null}}p=ha.prototype;p.sAa=function(a){var b=this.D();return dvt.Ca.Bp(this,a,new dvt.Z(0,0,this.getWidth(),this.getHeight()),this.Ya(),b._statusMessageStyle)};p.O5=function(a){this.kn=a};p.wJ=function(a){this.lca=a;this.Oa&&this.Oa.wJ(a)};p.TI=function(){return this.lca};p.R5=function(a){this.p1=a};
ha.prototype.setInitAnim=ha.prototype.R5;p=ha.prototype;p.Xg=function(){return this.ad};p.My=function(a){this.ad="single"==a?new dvt.Tc(dvt.Tc.nz):"multiple"==a?new dvt.Tc(dvt.Tc.mz):null;this.Ya().VA(this.ad)};function Ga(a){return a.ad?a.ad.Xd():null}p.Dn=function(){return this.ad?!0:!1};function wb(a){var b=new vl,c=dvt.B.ba(a.u());b.Fx=c;a=new yb(0,0,a.getWidth(),a.getHeight());b.ona=a;return b}
p.ix=function(a,b,c,d){var e=new wl;e.setId(a.getId?a.getId():a.getData().getId());var f=Ld.uR(a.Ug());e.Ae=f;e.nw=f;f=Ld.uR(a.mi());e.w0=f;e.ow=f;b=a.yn?a.yn(b):a.getData();e.Kt(b);e.setData(b);e.iv(Ld.uR(a.yg()));e.Hg(Ld.ESa(a.Ye()));e.mc(1==a.xb());a.Bb()&&(e.Ii(!0),b=xb(a.wp()),e.Bb()&&(e.ei=b))&&(e.nw&&(e.nw=new yb(e.nw.x,e.nw.y,e.nw.w-(b.left+b.right),e.nw.h-(b.top+b.bottom))),e.ow&&(e.ow=new yb(e.ow.x,e.ow.y,e.ow.w-(b.left+b.right),e.ow.h-(b.top+b.bottom))));e.Aga(a.Fd());e.XN=this;e.CD=!c;
e.hDa=d;return e};p.LJ=function(a,b,c,d,e){var f=new xl;f.setId(a.getId?a.getId():a.getData().getId());f.$Y(b?b:a.getData().Ue());f.JY(c?c:a.getData().Ed());b=a.yn?a.yn(d):a.ij?a.getData()._links:a.getData();f.Kt(b);f.setData(b);f.iv(Ld.uR(a.yg()));f.Hg(Ld.ESa(a.Ye()));b=a.R4();f.kta=b;b=a.j4();f.roa=b;f.BN(a.wA());f.mc(1==a.xb());f.xJ(1==a.ij);f.hDa=e;return f};
p.YF=function(a,b,c){var d=a.wp();if(d){var e=a.Ps;e&&(e=this.ma(e))&&e.QF(rd(d),b)}for(var f=e=Number.MAX_VALUE,d=0;d<a.Fg();d++){var h=a.AF(d),k=this.ma(h.getId()),l=h.zi();l&&(e=Math.min(e,l.x),f=Math.min(f,l.y));var n=h.yg(),h=h.Ye();n&&h&&(e=Math.min(e,h.x+n.x),f=Math.min(f,h.y+n.y))}for(d=0;d<a.Yu();d++){var h=a.UM(d),m=this.vd(h.getId());if(l=h.dd())for(n=af.uia(l),k=0;k<n.length;k++)l=n[k],e=Math.min(e,l.x),f=Math.min(f,l.y);n=h.yg();h=h.Ye();n&&h&&(e=Math.min(e,h.x+n.x),f=Math.min(f,h.y+
n.y))}n=this.oAa(-e,-f);e=n.x;f=n.y;for(d=0;d<a.Fg();d++)h=a.AF(d),h.YN=new td(n.x,n.y),k=this.ma(h.getId()),(l=h.zi())&&k.KD(l.x+e,l.y+f,b),zl(h,k,Ld.DSa(l),b),k.Bb()&&(h=h.wp())&&k.QF(rd(h),b);if(!this.YG)for(d=0;d<a.Yu();d++){var h=a.UM(d),m=this.vd(h.getId()),k=this.TBa(m,h,n,b),r=k.x,q=k.y;if(l=h.dd()){0<l.length&&!isNaN(l[0])&&(l=af.K6(l));for(var w=[],k=0;k<l.length;)isNaN(l[k])?(w.push(l[k]),k++):(w.push(l[k]+r),w.push(l[k+1]+q),k+=2);b&&m.dd()?0<w.length&&isNaN(w[0])?(k=dvt.dc.zTa(m.dd(),
w),m.ke(k.wza),b.O(dvt.G.sm,m,m.dd,m.ke,k.vza),dvt.bb.Jb(b,function(){m.ke(w)})):b.O(dvt.G.fu,m,m.dd,m.ke,w):m.ke(w)}zl(h,m,new dvt.R(-r,-q),b)}if(b=a.$I())this.Lr=new dvt.Z(b.x+e,b.y+f,b.w,b.h),this.VV=a.Ps;c&&(this.z1=new dvt.R(e,f))};p.TBa=function(a,b,c,d){var e=new dvt.R(0,0);if(!a.Fd())e=c;else if(a.Fd()!=b.x0){b=b.x0;for(a=this.ma(a.Fd());a;){var f=a.wp();e.x-=f.left-vd(a,d).x;e.y-=f.top-vd(a,d).y;a=a.Fd();a=a!=b?this.ma(a):null}b||(e.x+=c.x,e.y+=c.y)}return e};
function Qa(a,b){var c;if(a.Lr&&(c=new dvt.Z(a.Lr.x,a.Lr.y,a.Lr.a,a.Lr.b),a.VV))for(var d=a.ma(a.VV);d;){var e=d.ra(),f=d.pa();if(b){var h=b.ag(d,d.ra),k=b.ag(d,d.pa);if(h||0==h)e=h;if(k||0==k)f=k}c.x+=e;c.y+=f;d=(d=d.Fd())?a.ma(d):null}return c}p.oAa=function(a,b){return new dvt.R(a,b)};p.pD=function(a,b){if(0==this.RI()){var c=this.Oa,d=b?b:Pa(this,a,void 0,void 0);c.mD(this.UBa()*Math.min(Al(this,d),c.xF()));return d}return null};p.UBa=function(){return 1};
function Al(a,b){if(!b)return 0;var c=a.Oa;return Math.min((a.wb-2*c.my)/b.a,(a.Nb-2*c.my)/b.b)}
function Pa(a,b,c,d){var e=null,f,h,k,l,n=a.Oa.Pa;c||(c=a.RJ());for(var m=0;m<c.length;m++)if(f=c[m],(l=a.ma(f))&&l.nc&&!l.jg){var r=l,q=b;f=r.Ug();h=new dvt.Z(f.x,f.y,f.a,f.b);k=null;q&&(k=q.ag(r,r.Ye));k||(k=r.Ye());var w=null,x=null;q&&(w=q.ag(r,r.tF),x=q.ag(r,r.uF));null==w&&(w=r.Zn);x||(x=r.qn);r=r.yg();k&&r&&(null!=w&&(r=Bl(r,w,x)),h.x=Math.min(f.x,r.x+k.x),h.y=Math.min(f.y,r.y+k.y),h.a=Math.max(f.x+f.a,r.x+k.x+r.a)-h.x,h.b=Math.max(f.y+f.b,r.y+k.y+r.b)-h.y);f=h;k=h=null;b&&(h=b.ag(l,l.ra),
k=b.ag(l,l.pa));null==h&&(h=l.ra());null==k&&(k=l.pa());f.x+=h;f.y+=k;if(h=l.Fd())h=l.getParent(),l=md(new dvt.R(f.x,f.y),h,b),l=nd(l,n,b),h=md(new dvt.R(f.x+f.a,f.y+f.b),h,b),h=nd(h,n,b),f.x=l.x,f.y=l.y,f.a=h.x-l.x,f.b=h.y-l.y;e?(l=e.x,h=e.y,e.x=Math.min(e.x,f.x),e.y=Math.min(e.y,f.y),e.a=Math.max(l+e.a,f.x+f.a)-e.x,e.b=Math.max(h+e.b,f.y+f.b)-e.y):e=f}d||(d=a.QJ());for(m=0;m<d.length;m++)if(c=d[m],(c=a.vd(c))&&c.nc){l=c;h=b;f=new dvt.Z(Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);
k=null;h&&(k=h.ag(l,l.dd));k||(k=l.dd());if(k){k=af.uia(k);for(var v=void 0,v=r=x=w=void 0,q=0;q<k.length;q++)v=k[q],w=Math.max(f.x+f.a,v.x),x=Math.max(f.y+f.b,v.y),r=Math.min(f.x,v.x),v=Math.min(f.y,v.y),f.x=r,f.y=v,f.a=w-r,f.b=x-v}k=new dvt.Z(f.x,f.y,f.a,f.b);w=null;h&&(w=h.ag(l,l.Ye));null==w&&(w=l.Ye());r=x=null;h&&(x=h.ag(l,l.tF),r=h.ag(l,l.uF));null==x&&(x=l.Zn);r||(r=l.qn);l=l.yg();w&&l&&(null!=x&&(l=Bl(l,x,r)),k.x=Math.min(f.x,l.x+w.x),k.y=Math.min(f.y,l.y+w.y),k.a=Math.max(f.x+f.a,l.x+w.x+
l.a)-k.x,k.b=Math.max(f.y+f.b,l.y+w.y+l.b)-k.y);f=k;if(h=c.Fd())c=c.getParent(),l=md(new dvt.R(f.x,f.y),c,b),l=nd(l,n,b),h=md(new dvt.R(f.x+f.a,f.y+f.b),c,b),h=nd(h,n,b),f.x=l.x,f.y=l.y,f.a=h.x-l.x,f.b=h.y-l.y;e?(l=e.x,h=e.y,e.x=Math.min(e.x,f.x),e.y=Math.min(e.y,f.y),e.a=Math.max(l+e.a,f.x+f.a)-e.x,e.b=Math.max(h+e.b,f.y+f.b)-e.y):e=f}return e}
function Bl(a,b,c){if(null==b&&!c)return a;var d=new dvt.R(a.x,a.y),e=new dvt.R(a.x+a.a,a.y),f=new dvt.R(a.x,a.y+a.b);a=new dvt.R(a.x+a.a,a.y+a.b);var h=new dvt.Vb;null!=b&&(c&&h.translate(-c.x,-c.y),h.rotate(b),c&&h.translate(c.x,c.y));b=h.mf(d);e=h.mf(e);f=h.mf(f);a=h.mf(a);h=Math.min(Math.min(b.x,e.x),Math.min(f.x,a.x));c=Math.min(Math.min(b.y,e.y),Math.min(f.y,a.y));return new dvt.Z(h,c,Math.max(Math.max(b.x,e.x),Math.max(f.x,a.x))-h,Math.max(Math.max(b.y,e.y),Math.max(f.y,a.y))-c)}
function nd(a,b,c){for(var d=b.L4(),e=a,f=d.length-1;0<=f;f--){b=d[f];a=b.sb().clone();var h=null,k=null;c&&(h=c.ag(b,b.ra),k=c.ag(b,b.pa));null!=h&&(a.te=h);null!=k&&(a.oe=k);a.HF();e=a.mf(e)}return e}function md(a,b,c){for(var d=b.L4(),e=a,f=0;f<d.length;f++){b=d[f];a=b.sb().clone();var h=null,k=null;c&&(h=c.ag(b,b.ra),k=c.ag(b,b.pa));null!=h&&(a.te=h);null!=k&&(a.oe=k);e=a.mf(e)}return e}
p.sZ=function(a,b,c,d,e){var f=this.Oa,h=f.ve().a/2,k=f.ve().b/2;c=h-(c+a)*e;d=k-(d+b)*e;a=h-a*e;b=k-b*e;this.Lr&&(k=Qa(this),-k.x*e<c?(h=c+k.x*e,c-=h,a+=h):-k.x*e>a&&(h=-k.x*e-a,c-=h,a+=h),-k.y*e<d?(e=d+k.y*e,d-=e,b+=e):-k.y*e>b&&(e=-k.y*e-b,d-=e,b+=e));f.UY(c);f.VY(d);f.SY(a);f.TY(b)};function rd(a){var b={};b.top=a.top;b.right=a.right;b.bottom=a.bottom;b.left=a.left;return b}function xb(a){var b={};b.top=a.top;b.right=a.right;b.bottom=a.bottom;b.left=a.left;return b}p.oJ=function(){};
function sd(a,b){var c=b.Bb()?b.wp():null;c&&a.QF(c.top,c.right,c.bottom,c.left);c=Ld.uR(b.Ug());a.Ae=c;a.nw=c;c=Ld.uR(b.mi());a.w0=c;a.ow=c;a.iv(Ld.uR(b.yg()));a.CD=!0}
function zl(a,b,c,d){var e=a.yg(),e=Ld.pkb(e),f=a.Ye();if(e&&f){c=new dvt.R(f.x-c.x,f.y-c.y);var f=a.Zn,h=Ld.DSa(a.qn);d?(d.O(dvt.G.PD,b,b.yg,b.iv,e),b.Ye()?d.O(dvt.G.JG,b,b.Ye,b.Hg,c):b.Hg(c),null!=f&&d.O(dvt.G.V,b,b.tF,b.uJ,f),h&&(b.qn?d.O(dvt.G.JG,b,b.uF,b.UF,h):b.UF(h))):(b.iv(e),b.Hg(c),b.Mga(a.JX(),a.Sz),null!=f&&b.uJ(f),h&&b.UF(h))}}function Cl(a){return a.z1?a.z1:new dvt.R(0,0)}function Fg(a,b){this.Init(a,b)}dvt.v.F(Fg,dvt.wO,"DvtBaseDiagramKeyboardHandler");p=Fg.prototype;
p.Init=function(a,b){Fg.C.Init.call(this,a,b);this.K=a};p.Ma=function(){return this.K};p.KF=function(a){return a.keyCode==dvt.KeyboardEvent.Sh?!1:this.Bi(a)&&!a.ctrlKey};p.cv=function(a){return a.keyCode==dvt.KeyboardEvent.ui&&a.ctrlKey};p.GX=function(a,b,c){b=b.keyCode;if(!c||1>c.length||!a)return null;var d=c[0];a=a.uf();a=a.x+a.a/2;for(var e=0;e<c.length;e++){var f=c[e],h=f.uf(),h=h.x+h.a/2;if(b==dvt.KeyboardEvent.Fv&&h<=a||b==dvt.KeyboardEvent.St&&h>=a){d=f;break}}return d};
p.Wea=function(a,b,c,d){if(!d)return null;if(!b)return d[0];if(!a)return b;for(var e=0;e<d.length;e++){var f=d[e],h=f,k=a,l=f,n=this.gO(l.Ue?l.Ue():l.getData().Ue()),l=this.gO(l.Ed?l.Ed():l.getData().Ed()),n=k==n?l:n,k=Dl(k),n=Dl(n),k=Math.atan2(n.y-k.y,n.x-k.x),k=0>k?k+2*Math.PI:k;h.Ula=k;n=h=f;k=this.gO(n.Ue?n.Ue():n.getData().Ue());n=this.gO(n.Ed?n.Ed():n.getData().Ed());k=Dl(k);n=Dl(n);h.TO=Math.sqrt(Math.pow(n.x-k.x,2)+Math.pow(n.y-k.y,2));h=f;f=a==this.gO(f.Ed?f.Ed():f.getData().Ed())?1:0;h.J_=
f}d.sort(El());for(a=0;a<d.length;a++)e=d[a],e.Ula=void 0,e.TO=void 0,e.J_=void 0;c=c.keyCode==dvt.KeyboardEvent.If?!0:!1;for(e=a=0;e<d.length;e++)if(d[e]===b){a=c?e==d.length-1?0:e+1:0==e?d.length-1:e-1;break}return d[a]};p.gO=function(){return null};function Dl(a){a=a.uf();return new dvt.R(a.x+a.a/2,a.y+a.b/2)}function El(){return function(a,b){var c=a.Ula,d=b.Ula,e=-1;!Fl(c,d)&&c>d?e=1:Fl(c,d)&&(a.TO>b.TO?e=1:b.TO==a.TO&&a.J_>b.J_?e=1:b.TO==a.TO&&a.J_==b.J_&&(e=0));return e}}
function Fl(a,b){var c=1E-7>=Math.abs(a-b);c||(c=1E-7>=Math.abs(2*Math.PI+Math.min(a,b)-Math.max(a,b)));return c}function je(a,b,c){this.Init(a,b,c)}dvt.v.F(je,dvt.la,"DvtBaseDiagramNode");p=je.prototype;p.Init=function(a,b,c){je.C.Init.call(this,a,null,b);this.K=c;this.Pg=this.gn=!1;this.$Q=!0;this.Fb;this.v1;this.Zn;this.qn;this.Pr;this.Xn};p.Ma=function(){return this.K};p.getData=function(){return null};p.Ug=function(){return this.mi()};p.mi=function(){return new dvt.Z(0,0,this.getWidth(),this.getHeight())};
p.Hg=function(a){if(a){this.v1=a;var b=this.Fb;this.yg();b&&(a=cf(a,this.Zn,this.qn),b.rb(a))}};p.Ye=function(){return this.v1};p.yg=function(){return null};p.iv=function(){};p.wp=function(){return null};p.QF=function(){};p.Bb=function(){return this.gn};p.Ii=function(a){this.gn=a};p.xb=function(){return this.Pg};je.prototype.isSelected=je.prototype.xb;p=je.prototype;p.mc=function(a){this.Pg=a};p.tj=function(a){this.$Q=a};p.tb=function(){return this.Ma().Dn()&&this.$Q};p.Q5=function(a){this.jg=a};
p.Opb=function(){return this.jg};p.uJ=function(a){this.Zn=a;var b=this.Fb;this.yg();b&&(a=cf(this.Ye(),a,this.qn),b.rb(a))};p.tF=function(){return this.Zn};p.UF=function(a){this.qn=a;var b=this.Fb;this.yg();b&&(a=cf(this.Ye(),this.Zn,a),b.rb(a))};p.uF=function(){return this.qn};function cf(a,b,c){var d=new dvt.Vb;null!=b&&(c&&d.translate(-c.x,-c.y),d.rotate(b),c&&d.translate(c.x,c.y));a&&d.translate(a.x,a.y);return d}
p.KD=function(a,b,c){c?(c.O(dvt.G.V,this,this.ra,this.fa,a),c.O(dvt.G.V,this,this.pa,this.ua,b)):this.Na(a,b)};function vd(a,b){var c,d;b&&(c=b.ag(a,a.ra),d=b.ag(a,a.pa));null==c&&(c=a.ra());null==d&&(d=a.pa());return new dvt.R(c,d)}p.Gd=function(){return null};p.uf=function(a){var b=this.mi(a);a=this.Pd(new dvt.R(b.x,b.y));b=this.Pd(new dvt.R(b.x+b.a,b.y+b.b));return new dvt.Z(a.x,a.y,b.x-a.x,b.y-a.y)};p.cm=function(){return this.Qa()};p.Pf=function(){};p.Od=function(){};p.Hd=function(){};p.ee=function(){return null};
function Fb(a,b){a.Pr||(a.Pr=[]);a.Pr.push(b)}function Gb(a,b){a.Xn||(a.Xn=[]);a.Xn.push(b)}p.Mga=function(){};p.Fd=function(){return null};function ud(a,b){if(a.rc){var c=b?b.ag(a.rc,a.rc.ra,!0):a.rc.ra(),d=b?b.ag(a.rc,a.rc.pa,!0):a.rc.pa();return new dvt.R(c,d)}return null}function Nd(a,b,c){this.Init(a,b,c)}dvt.v.F(Nd,dvt.la,"DvtBaseDiagramLink");p=Nd.prototype;
p.Init=function(a,b,c){Nd.C.Init.call(this,a,null,b);this.K=c;this.SG;this.Il;this.gC;this.Fb;this.v1;this.Zn;this.qn;this.Pg=!1;this.$Q=!0;this.ca;this.Mj;this.Rj};p.Ma=function(){return this.K};p.P5=function(){};p.tt=function(){return null};p.Z5=function(){};p.Hob=function(){return this.Rj};Nd.prototype.getStartConnector=Nd.prototype.Hob;Nd.prototype.Vmb=function(){return this.Mj};Nd.prototype.getEndConnector=Nd.prototype.Vmb;p=Nd.prototype;p.yJ=function(a){this.ca=a};p.Pc=function(){return this.ca};
p.uJ=function(a){this.Zn=a;var b=this.Fb;this.yg();b&&(a=Gl(this.Ye(),a,this.qn),b.rb(a))};p.tF=function(){return this.Zn};p.UF=function(a){this.qn=a;var b=this.Fb;this.yg();b&&(a=Gl(this.Ye(),this.Zn,a),b.rb(a))};p.uF=function(){return this.qn};p.Ye=function(){return this.v1};p.Hg=function(a){if(a){this.v1=a;var b=this.Fb;this.yg();b&&(a=Gl(a,this.Zn,this.qn),b.rb(a))}};p.yg=function(){return null};p.iv=function(){};p.R4=function(){return 0};p.j4=function(){return 0};p.tj=function(a){this.$Q=a};
p.tb=function(){return this.Ma().Dn()&&this.$Q};p.xb=function(){return this.Pg};Nd.prototype.isSelected=Nd.prototype.xb;p=Nd.prototype;p.mc=function(a){this.Pg=a};p.xJ=function(a){this.ij=a};p.zWa=function(){return this.ij};p.BN=function(){};p.wA=function(){return 1};Nd.prototype.getLinkWidth=Nd.prototype.wA;p=Nd.prototype;p.PY=function(){};p.WM=function(){return"solid"};p.OY=function(){};p.wF=function(){return null};p.Vu=function(){return null};p.ria=function(){return this.WM()};p.eB=function(){return this.wA()};
p.FBa=function(){return this.wF()};function Sd(a,b,c,d,e){if(c||e){var f;e||(f=a.ca.Zd().clone(),f.mo(dvt.$c.bu),f.Of(!1));if(c=Td.rAa(a.u(),c,e,f,a))a.ca.A(c),Td.dU(c,0,e,b,d);return c}}
p.ke=function(a){this.SG=a;af.Q7(a)?(this.gC=a,this.Il=af.qAa(a)):(this.Il=a,this.gC=af.K6(a));this.ca&&this.ca instanceof dvt.vb&&(this.ca.Ht(this.gC),this.Mj?Td.dU(this.Mj,this.tt(),this.Vu(Td.oT),this.Il,1):this.Mj=Sd(this,this.Il,this.tt(),1,this.Vu(Td.oT)),this.Rj?Td.dU(this.Rj,this.bv(),this.Vu(Td.VT),this.Il,0):this.Rj=Sd(this,this.Il,this.bv(),0,this.Vu(Td.VT)));var b=a=null;this.Og&&this.Og.vI instanceof dvt.vb&&this.Og.vI.Ht(this.gC);this.Og&&(a=this.Og.lA)&&Td.dU(a,this.bv(),this.Vu(Td.VT),
this.Il,0);this.Og&&(b=this.Og.kA)&&Td.dU(b,this.tt(),this.Vu(Td.oT),this.Il,1);this.Rx&&this.Rx.vI instanceof dvt.vb&&this.Rx.vI.Ht(this.gC);this.LW&&this.LW.setPosition(Wd(this));this.mV&&this.mV.setPosition(Xd(this))};p.dd=function(){return this.SG};function Wd(a){return a.Il?new dvt.R(a.Il[0],a.Il[1]):null}function Xd(a){if(!a.Il)return null;var b=a.Il.length;return new dvt.R(a.Il[b-2],a.Il[b-1])}
function Gl(a,b,c){var d=new dvt.Vb;null!=b&&(c&&d.translate(-c.x,-c.y),d.rotate(b),c&&d.translate(c.x,c.y));a&&d.translate(a.x,a.y);return d}p.AZ=function(a,b,c,d){b||0==b||(b=1);c||0==c||(c=0);c=this.eB()+c;a=new dvt.xa(a,b,c);return new Hl(this.u(),this.gC,a,d)};
function Qd(a,b,c,d,e){b=a.AZ(b,c,d,e);a.Rj&&a.bv()&&(c=a.bv(),d=Il(b,a.Il,c,a.Vu(Td.VT),a,0),b.lA&&b.removeChild(b.lA),b.lA=d,b.Bta=c,b.A(b.lA));a.Mj&&a.tt()&&(c=a.tt(),a=Il(b,a.Il,c,a.Vu(Td.oT),a,1),b.kA&&b.removeChild(b.kA),b.kA=a,b.Ata=c,b.A(b.kA));return b}p.hZ=function(a,b){var c=this.ria(),c=af.tZ(c);a.mo(c,af.q7(c,b),af.r7(c,b))};
function Pd(a,b){if(a){var c=null;b.gc&&(c=b.gc());if(c){var d=a.Zd()?a.Zd().clone():null,e=a.jd()?a.jd().clone():null;d&&d.$w&&(d.$w(c),a.Ga(d));e&&e.$w&&(e.$w(c),a.qa(e))}}}p.Gd=function(){return null};p.uf=function(a){return this.aa(a)};p.cm=function(){return this.Qa()};p.Pf=function(){};p.Od=function(){};p.Hd=function(){};p.ee=function(){return null};p.Mga=function(){};p.Fd=function(){return null};var Ld={};dvt.v.F(Ld,dvt.v,"DvtDiagramLayoutUtils");
Ld.hpb=function(a){for(var b=Ld.Enb(a),c=Math.max(b.w,b.h),b=a.Fg(),d=a.Yu(),e=Math.floor(Math.sqrt(b)),f=0,f=(f=a.yn())&&f.padding?f.padding:0<d?c:.25*c,c=c+f,d=-(Math.ceil(b/e)-1)*c/2,f=-(e-1)*c/2,h=0;h<b;h++)Ld.dkb(a.AF(h),d+c*Math.floor(h/e),f+h%e*c)};Ld.Enb=function(a){for(var b=a.Fg(),c=0,d=0,e=0;e<b;e++){var f=a.AF(e),h=f.Uf(),c=Math.max(h.w,c),d=Math.max(h.h,d);if(f=f.yg())c=Math.max(f.w,c),d=Math.max(h.h+f.h,d)}return new yb(0,0,c,d)};
Ld.dkb=function(a,b,c){var d=a.mi();a.setPosition(new td(b-d.x-.5*d.w,c-d.y-.5*d.h));Ld.urb(a)};Ld.urb=function(a){var b=a.Uf(),c=a.zi(),d=a.yg();d&&a.Hg(new td(b.x+c.x+.5*(b.w-d.w),b.y+c.y+b.h))};Ld.uR=function(a){return void 0===a||null==a?null:new yb(a.x,a.y,a.a,a.b)};Ld.ESa=function(a){return void 0===a||null==a?null:new td(a.x,a.y)};Ld.pkb=function(a){return a?new dvt.Z(a.x,a.y,a.w,a.h):null};Ld.DSa=function(a){return a?new dvt.R(a.x,a.y):null};
function Hl(a,b,c,d){Hl.C.Init.call(this,a);this.Init(a,b,c,d)}dvt.v.F(Hl,dvt.la,"DvtDiagramLinkUnderlay");Hl.prototype.Init=function(a,b,c,d){b||(b=["M",0,0,"L",1,0]);this.kt=c;this.kt||(this.kt=new dvt.xa("#ffffff",1,1));this.vI=new dvt.vb(a,b);this.vI.Ga(c);this.vI.qa(null);d&&(this.i3=d,this.vI.ge(d));this.A(this.vI);this.Ata=this.kA=this.Bta=this.lA=null};function Il(a,b,c,d,e,f){c=Td.rAa(a.u(),c,d,a.kt,e);a.i3&&c.ge(a.i3);Td.dU(c,0,d,b,f);return c}
Hl.prototype.Ga=function(a,b){this.kt=a;dvt.B.Wa()&&dvt.B.uq()&&1==dvt.B.HR()&&a.Of(!0);this.vI.Ga(a);if(this.lA){var c=a.clone();c.mo(dvt.$c.bu);c.Of(!1);if(this.Bta==Td.z6||this.Bta==Td.A6)c.Xa(b),this.lA.mb(a.gc());this.lA.Ga(c)}if(this.kA){c=a.clone();c.mo(dvt.$c.bu);c.Of(!1);if(this.Ata==Td.z6||this.Ata==Td.A6)c.Xa(b),this.kA.mb(a.gc());this.kA.Ga(c)}};Hl.prototype.Zd=function(){return this.kt};var af={};dvt.v.F(af,dvt.v,"DvtDiagramLinkUtils");
af.tZ=function(a){var b=dvt.$c.bu;switch(a){case "dash":b=dvt.$c.vD;break;case "dot":b=dvt.$c.DZ;break;case "dashDot":b=dvt.$c.Qha}return b};af.q7=function(a,b){if(dvt.$c.bu==a)return null;if(dvt.$c.vD==a)return b?"8,2":"6,4";if(dvt.$c.DZ==a)return b?"4,1":"2,3";if(dvt.$c.Qha==a)return b?"10,1,4,1":"8,3,2,3"};af.r7=function(a,b){return b&&dvt.$c.bu!=a?1:null};af.Kob=function(a){var b=af.tZ(a);return{_type:a,strokeDasharray:af.q7(b,void 0),strokeDashoffset:af.r7(b,void 0)}};
af.Krb=function(a){return a?(a=a.split(/[\s,]+/),0<a.length%2&&(a=a.concat(a)),a.toString()):a};af.Amb=function(a){if(a){a=a.split(/[\s,]+/);for(var b="",c=0;c<a.length;c++){var d=dvt.j.bi(dvt.Sd.trim(a[c])),b=b+(0==c%2?d+2:2<=d?d-2:0);c<a.length-1&&(b+=", ")}return b}return null};af.K6=function(a){var b=[];if(a)for(var c=0;c<a.length;c+=2)0==c?b.push("M"):b.push("L"),b.push(a[c]),b.push(a[c+1]);return b};af.qAa=function(a){var b=[];if(a)for(var c=0;c<a.length;c++)isNaN(a[c])||b.push(a[c]);return b};
af.Q7=function(a){return a&&0<a.length?isNaN(a[0]):!1};af.uia=function(a){var b=[];a=af.Q7(a)?af.qAa(a):a;for(var c=0;c<a.length;c+=2)b.push(new dvt.R(a[c],a[c+1]));return b};var Td={};dvt.v.F(Td,dvt.v,"DvtDiagramLinkConnectorUtils");Td.oT="endConnector";Td.VT="startConnector";Td.gAa="arrowOpen";Td.z6="arrow";Td.A6="arrowConcave";Td.iAa="rectangle";Td.jAa="rectangleRounded";Td.hAa="circle";
Td.rAa=function(a,b,c,d,e){if(c)return Td.$Za(c,e);c=e.eB();switch(b){case Td.z6:return Td.a_a(a,c,e.wF());case Td.A6:return Td.b_a(a,c,e.wF());case Td.gAa:return Td.g_a(a,c,d);case Td.hAa:return Td.ZZa(a,c,d);case Td.iAa:return Td.wAa(a,c,d);case Td.jAa:return Td.m_a(a,c,d)}return null};Td.dU=function(a,b,c,d,e){b=Td.MZa(a,c,d,e);a.rb(b)};
Td.MZa=function(a,b,c,d){var e=-1,f=0,h=0,k=0;c&&(f=c.length,1===d?(2<=f&&(h=c[f-2],k=c[f-1]),4<=f?(e=c[f-4],f=c[f-3]):(e=h-1E-4,f=k)):(2<=f&&(h=c[0],k=c[1]),4<=f?(e=c[2],f=c[3]):(e=h+1E-4,f=k)));c=h;d=k;e=Td.LZa(e,f,h,k);h=a.o$a;h||(h=a.sb().clone(),a.o$a=h);k=new dvt.Vb;b&&(b=Td.MKa(a),f=a.ue(),a=a.He(),k.translate(-.5*b.a*f,-.5*b.b*a));k.rotate(e);k.translate(c,d);k.concat(h);return k};Td.MKa=function(a){var b=a.N9a;b||(b=a.aa(),a.N9a=b);return b};
Td.LZa=function(a,b,c,d){return Math.atan2(d-b,c-a)};Td.b_a=function(a,b,c){b=6*Td.Naa(b);var d=.8*b;a=new dvt.ti(a,[-.22*b,-.5*d,.78*b,0,-.22*b,.5*d,0,0]);a.mb(c);return a};Td.a_a=function(a,b,c){b=5*Td.Naa(b);var d=.8*b;a=new dvt.ti(a,[0,-.5*d,b,0,0,.5*d]);a.mb(c);return a};Td.Naa=function(a){return 1>=a?a:1+.5*(a-1)};Td.g_a=function(a,b,c){b*=3;var d=c.getWidth();a=new dvt.ux(a,[-b+d*Math.sqrt(2)/2,-b,d*Math.sqrt(2)/2,0,-b+d*Math.sqrt(2)/2,b]);a.Ga(c);a.qa(null);return a};
Td.STa=function(a){return 2*a};Td.qVa=function(a){return 3*a};Td.ZZa=function(a,b,c){b=Td.STa(b);a=new dvt.Zm(a,b,0,b);a.Ga(c);a.qa(null);return a};Td.wAa=function(a,b,c){b=Td.qVa(b);a=new dvt.Rect(a,0,-b/2,b,b);a.Ga(c);a.qa(null);return a};Td.m_a=function(a,b,c){a=Td.wAa(a,b,c);a.HS(b);return a};Td.$Za=function(a,b){var c=Aa(b.Ma()),d=b.getData().Tp;c.Nx=d;c.rJ(b,b.S3);d=b.ZR();c.ky=d;return K.tS(c,a,b)};Td.LBa=function(a,b,c,d,e){return c?(b=Td.MKa(a),a=a.ue(),.5*b.a*a):Td.mwa(b,e.eB(),d.getWidth())};
Td.mwa=function(a,b,c){switch(a){case Td.gAa:return c*Math.sqrt(2);case Td.z6:return a=Td.Naa(b),5*a;case Td.A6:return a=Td.Naa(b),4.68*a;case Td.hAa:return 2*Td.STa(c)+c/2;case Td.iAa:case Td.jAa:return Td.qVa(c)+c/2;default:return 0}};
dvt.fg=function(a,b,c){this.Init(a,b,c)};aa("dvt.Diagram",dvt.fg);dvt.v.F(dvt.fg,ha);dvt.fg.prototype.Init=function(a,b,c){dvt.fg.C.Init.call(this,a,b,c);this.$g=new Jl;this.I=new Kl(a,this.cg,this);this.I.Nf(this);dvt.B.Wa()||this.I.ms(new Ll(this,this.I));this.oc={};this.Lq=[];this.UG=[];this.je={};this.uB=[];this.H0=this.eA=0};dvt.fg.newInstance=function(a,b,c){return new dvt.fg(a,b,c)};dvt.fg.newInstance=dvt.fg.newInstance;p=dvt.fg.prototype;
p.RT=function(){!this.$s&&this.ph&&("none"!=this.cV&&(this.Go={id:this.getId(),getId:function(){return this.id},options:this.D(),getOptions:function(){return this.options},panZoomMatrix:this.Oa.Pa.sb(),getPanZoomMatrix:function(){return this.panZoomMatrix},nodes:this.oc?Ml(this):{},roots:this.UG?Nl(this):[],links:this.je?Ol(this):[],linkIds:this.QJ(),getNodes:function(){return this.nodes},getRoots:function(){return this.roots},getLinks:function(){return this.links},getLinkIds:function(){return this.linkIds}},
this.Go.D=this.Go.getOptions,this.Go.$nb=this.Go.getPanZoomMatrix,this.Go.getId=this.Go.getId,this.Go.eVa=this.Go.getNodes,this.Go.mob=this.Go.getRoots,this.Go.IUa=this.Go.getLinks,this.Go.vnb=this.Go.getLinkIds),this.Cz=this.Oa.$I(),this.ph=!1,this.iW=this.Oa);this.$s||this.gka()};p.gka=function(){this.Yp=new dvt.la(this.u());this.Gl=new dvt.la(this.u());this.jA=new dvt.la(this.u());this.oc={};this.Lq=[];this.UG=[];this.je={};this.uB=[];this.WU=this.eM=this.vE=null};
p.mw=function(){this.gi&&(this.removeChild(this.gi),this.gi.ya());this.gi=null;this.Yb&&this.Ya().Nf(this);this.jm||this.Eq();this.Yb=null;this.jm=!1};p.xg=function(a,b){var c=new dvt.kd(this.u(),null,a.ob()),d=b.$nb(),e=this.Oa.Pa.sb();d.Le(e)||(this.Oa.Pa.rb(d),c.ka.O(dvt.G.gj,this.Oa.Pa,this.Oa.Pa.sb,this.Oa.Pa.rb,e));a.No(b.mob(),this.UG?Nl(this):[]);a.No(b.IUa(),this.je?Ol(this):[]);a.add(c,1)};
function Pl(a,b){var c=void 0===b.nodes&&a.D().childNodes?a.D().childNodes:b.nodes,d=b.id;if(c&&Ql(a,d))if(c instanceof Function&&(d={id:d,type:"node",label:b.label,data:b,component:a.D().childNodes},c=c(d)),Array.isArray(c))for(d=0;d<c.length;d++)Pl(a,c[d]);else if(c.then){a.H0++;var e=a.eA;c.then(function(c){Rl(a,e,b,c)},function(){Rl(a,e,b,null)})}}function Rl(a,b,c,d){if(b===a.eA){a.H0--;c.nodes=d;if(Array.isArray(d))for(b=0;b<d.length;b++)Pl(a,c.nodes[b]);0===a.H0&&a.au()}}
p.Pn=function(){dvt.fg.C.Pn.call(this);this.GT();this.H0=0;if(!this.ph&&!this.$s){this.eA++;var a=this.D().nodes;if(a)for(var b=0;b<a.length;b++)Pl(this,this.D().nodes[b])}0===this.H0&&this.au()};
p.au=function(a){var b=!1;if(!this.ph&&!this.$s){Sl(this);Tl(this);var c=[],d;for(d in this.oc)c.push(d);b=0===c.length;this.u().AN([this])}if(b)Ul(this,a,b);else{this.contains(this.iW)||this.A(this.iW);var c=this.Xw(a),e=this,f=this.eA;c.then(function(){f===e.eA&&Ul(e,a,b)},function(){f===e.eA&&(e.removeChild(e.iW),e.iW=null,e.ph=!0,this.Cz=null)})}};
function Ul(a,b,c){var d;if(!c){a.removeChild(a.iW);a.bI();a.hC();a.BC();if(d=null==a.Am)a.Am=Pa(a,b,void 0,void 0);var e=a.Oa;if(a.ph)a.$s&&(f=a.pD(b,a.Am),h=a.Lr?Qa(a):f?f:a.Am,e.bha(!0),e.Pt(null,h),e.bha(a.AI));else{a.pD(b,a.Am);if(!a.$s){var f=a.Lr?!0:!1,h=f?Qa(a):a.Am;f&&e.CYa();e.Pt(null,h)}e.TA(a.bA);e.wJ(a.TI());e.cZ(a.AI);e.bha(a.AI)}}a.iW=null;a.ph||(a.Gq(!0),dvt.B.vk()&&a.p1&&!a.Go?a.Yb=dvt.qc.sF(a.u(),a.p1,a,null,a.ob()):"none"!=a.cV&&a.Go&&(a.gi=new dvt.la(a.u(),"Delete Container"),
a.A(a.gi),e=new Vl(a.u(),a.gi,a.Go,a),e.No([a.Go],[a]),a.Yb=e.Iw()),a.Yb?(a.Ya().we(),a.Ya().Wj(a),a.Yb.rg(a.mw,a),a.Yb.play()):a.mw());a.ph=!0;a.Cz=null;ub(a,c);a.bA&&(c=a.Am,null!=c&&(b=a.Oa.Bg(b),a.sZ(c.x,c.y,c.a,c.b,b)));a.Lr=null;a.VV=null;d&&(a.Am=null)}
p.Df=function(a){dvt.fg.C.Df.call(this,a);this.Vxa(this.W);this.bA="none"!=this.W.panning;this.AI="none"!=this.W.zooming;this.Dga("hidden");this.cV=this.W.animationOnDataChange;this.R5("auto"==this.W.animationOnDisplay?dvt.qc.oD:null);this.My(this.W.selectionMode);this.O5(this.W.emptyText?this.W.emptyText:dvt.H.Ze(this.W,"labelNoData",dvt.H.Ha,"NO_DATA"))};dvt.fg.Wr=function(a){return(new Jl).Wr(a)};p=dvt.fg.prototype;p.xF=function(){var a=this.D().maxZoom,a=parseFloat(a);return 0<a?a:1};
p.RI=function(){var a=this.D().minZoom;if(a){var b=parseFloat(a);0<b&&(a=Math.min(b,this.xF()));return a}return 0};p.TI=function(){return this.D().panDirection};p.ob=function(){return dvt.Ua.ds(this.D().styleDefaults.animationDuration)/1E3};p.cg=function(a){var b=a.type;"categoryHighlight"==b?this.bI(!0):"selection"==b&&(this.D().selection=a.selection);a&&this.dispatchEvent(a)};function Sl(a){var b=a.D().nodes;b&&(Wl(a,null,b),a.wv||(b=a.D().expanded,a.wv=b?"all"===b?a.Lq:b:[]))}
function Tl(a){var b=a.D().links;if(b){var c=a.D().styleDefaults.linkDefaults;Xl(c);c.style=dvt.bc.ae(c.style,c._style);for(var d=0;d<b.length;d++){var e=b[d],f;f=a;var h=e,k=f.ma(h.startNode),l=f.ma(h.endNode);if(k&&l||!f.WU)f=!1;else if(k=k?k.getId():Yl(f,h.startNode),l=l?l.getId():Yl(f,h.endNode),k&&l&&k!==l){var n="_plL"+k+"_L"+l;f.eM||(f.eM={});f.eM[n]?f.eM[n]._links.push(h):f.eM[n]={id:n,startNode:k,endNode:l,_links:[h]};f=!0}else f=!1;f||(Xl(e),e=dvt.bc.ae(e,c),e=new Zl(a.u(),a,e,!1),f=e.getId(),
a.uB.push(f),e.mxa()||(h=a.ma(e.Ue()),k=a.ma(e.Ed()),Fb(h,f),Gb(k,f),e.ta(),a.je[f]=e))}if(a.eM){b=a.D().styleDefaults.promotedLink;Xl(b);b.style=dvt.bc.ae(b.style,b._style);for(var m in a.eM)e=a.eM[m],e=dvt.bc.ae(e,b),e=new Zl(a.u(),a,e,!0),f=e.getId(),h=a.ma(e.Ue()),k=a.ma(e.Ed()),Fb(h,f),Gb(k,f),e.ta(),a.uB.push(f),a.je[f]=e}}}function Xl(a){a&&null!=a.style&&(a.style instanceof Object?null==a.style._type&&(a.style._type="customStyle"):a.style=af.Kob(a.style))}
p.Xw=function(a){for(var b=this.D().layout,c=wb(this),d={},e=0;e<this.UG.length;e++){var f=this.UG[e];if(this.ma(f)){d[f]=!0;var h=this.ix(this.ma(f),null,this.ph?!1:!0,c);$l(this,this.ma(f),h,c,d);c.zM(h)}}for(var k in this.je)if(e=this.vd(k))f=e.getData().startNode,h=e.getData().endNode,d[f]&&d[h]&&pb(c,this.LJ(e,f,h,null,c));this.Cz&&(d=this.Cz,k=Cl(this),d=new yb(d.x-k.x,d.y-k.y,d.a,d.b),c.Cz=d);if(b&&"function"==typeof b){var l=this;(b=b(c))||(b={then:function(a){a()}});this.vga(0);var n=this.eA;
b.then(function(){if(l.eA===n||l.$s){l.vga(1);for(var b=c.Fg(),d=0;d<b;d++)l.oJ(c.AF(d));l.YF(c,a,!0)}},function(){});return b}this.pO("dvt.Diagram: Layout function is not defined",1)};p.vga=function(a){this.ph||(this.Yp.U(a),this.Gl.U(a))};p.ma=function(a){return this.oc[a]};p.vd=function(a){return this.je[a]};p.QJ=function(){return this.uB};function Ol(a){var b=[],c;for(c in a.je)b.push(a.je[c]);return b}p.RJ=function(){return this.Lq};
function Ml(a){var b={},c;for(c in a.oc)b[c]=a.oc[c];return b}function am(a){var b=[],c;for(c in a.oc)b.push(a.oc[c]);return b}function Nl(a){for(var b=[],c=0;c<a.UG.length;c++){var d=a.oc[a.UG[c]];d&&b.push(d)}return b}
p.Dk=function(a){dvt.fg.C.Dk.call(this,a);switch(a.ko()){case dvt.Bd.v8:if(this.bA){var b=a.aC,c=this.Am?this.Am:Pa(this,a.ka,void 0,void 0);this.sZ(c.x,c.y,c.a,c.b,b)}break;case dvt.Bd.z8:this.Lr||(c=this.Am?this.Am:Pa(this,a.ka,void 0,void 0),a.BYa(c));break;case dvt.Bd.rK:if(this.D().zoomRenderer&&a.VL!==a.aC)for(b in this.oc){var c=this.ma(b),d=a;if(c.K.D().zoomRenderer){var e=c.Dm(d.VL),d=c.Dm(d.aC);bm(c,c.K.D().zoomRenderer,d,e)}}}};p.sXa=function(){};
p.yF=function(a){var b=[],c;for(c in this.je){var d=this.vd(c),e=d.Ue(),f=d.Ed();e!=a&&f!=a||!d.nc||b.push(d)}return b};p.mm=function(){return dvt.H.wa(dvt.H.Ha,"DIAGRAM")};p.hC=function(){if(this.W.selection&&this.Dn()){var a=[],b;for(b in this.oc)a.push(this.ma(b));for(var c in this.je)a.push(this.vd(c));this.Xg().Gt(this.W.selection,a)}};
p.bI=function(a){a&&this.I.Wj(this);this.vE&&(this.x3(!1,this.vE),this.vE=null);var b=this.W.highlightedCategories;if(b&&0!==b.length){var c="any"==this.W.highlightMatch;this.vE={};var d=[],e;for(e in this.oc){var f=this.ma(e),h=c?dvt.na.Tw(f.ee(),b):dvt.na.b5(f.ee(),b);h&&(this.vE[f.getId()]=f,d.push(f))}cm(this,d);var d=[],k;for(k in this.je)if(e=this.vd(k),h=c?dvt.na.Tw(e.ee(),b):dvt.na.b5(e.ee(),b))this.vE[e.getId()]=e,d.push(e);"linkAndNodes"==this.W.linkHighlightMode&&dm(this,d);this.x3(!0,
this.vE);if(a){var l=this;setTimeout(function(){l.Ya().Nf(l)},0)}}else a&&this.I.Nf(this)};function cm(a,b){var c=a.W.nodeHighlightMode;if("node"!=c){for(var d="nodeAndIncomingLinks"==c||"nodeAndLinks"==c,c="nodeAndOutgoingLinks"==c||"nodeAndLinks"==c,e=[],f=0;f<b.length;f++)for(var h=b[f],k=d&&h.Xn?h.Xn:[],k=c&&h.Pr?k.concat(h.Pr):k,h=0;h<k.length;h++){var l=k[h];a.vE[l]=a.vd(l);e.push(a.vd(l))}dm(a,e)}}
function dm(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=d.Ue(),d=d.Ed();a.vE[e]=a.ma(e);a.vE[d]=a.ma(d)}}
p.x3=function(a,b){var c;if(this.Lq.length==this.UG.length){c=a?this.W.styleDefaults._highlightAlpha:1;this.Yp.U(c);this.Gl.U(c);for(var d in b)a?this.jA.A(b[d]):b[d]instanceof Zl?this.Yp.A(b[d]):b[d]instanceof em&&this.Gl.A(b[d])}else if(a){c=this.W.styleDefaults._highlightAlpha;var e={};for(d in b)b[d].U(1),e[d]=!0;for(var f in this.oc)e[f]||this.ma(f).U(c);for(var h in this.je)e[h]||this.vd(h).U(c)}else{for(f in this.oc)this.ma(f).U(1);for(h in this.je)this.vd(h).U(1)}};
p.df=function(a){this.W.highlightedCategories=dvt.bc.clone(a);this.bI()};dvt.fg.prototype.highlight=dvt.fg.prototype.df;dvt.fg.prototype.select=function(a){this.W.selection=dvt.bc.clone(a);this.hC()};dvt.fg.prototype.select=dvt.fg.prototype.select;dvt.fg.prototype.sh=function(){this.Qd||(this.Qd=new fm(this));return this.Qd};dvt.fg.prototype.getAutomation=dvt.fg.prototype.sh;
dvt.fg.prototype.pO=function(a,b){var c=this.D()._logger;if(c)switch(b){case 1:c.error&&c.error(a);break;case 2:c.warn&&c.warn(a);break;case 3:c.info&&c.info(a);break;default:c.log&&c.log(a)}};dvt.fg.prototype.Hy=function(a,b){var c=this.ma(a);c&&c.Hy(b)};dvt.fg.prototype.processDefaultHoverEffect=dvt.fg.prototype.Hy;dvt.fg.prototype.kJ=function(a,b){var c=this.ma(a);c&&c.kJ(b)};dvt.fg.prototype.processDefaultSelectionEffect=dvt.fg.prototype.kJ;
dvt.fg.prototype.gD=function(a,b){var c=this.ma(a);c&&c.gD(b)};dvt.fg.prototype.processDefaultFocusEffect=dvt.fg.prototype.gD;dvt.fg.prototype.oJ=function(a){if(!a.CD){var b=this.ma(a.getId());if(b.Bb()){for(var c=wb(this),d=a.Ge(),e=0;e<d.length;e++){var f=d[e];this.oJ(f);c.zM(f)}this.YF(c)}b.ta();sd(a,b)}};
function Wl(a,b,c){var d=a.D().styleDefaults.nodeDefaults;gm(d,"backgroundStyle");gm(d,"containerStyle");for(var e=0;e<c.length;e++){var f=c[e];gm(f,"backgroundStyle");gm(f,"containerStyle");var f=dvt.bc.ae(f,d),h=new em(a.u(),a,f),k=h.getId();if(b){var l=b,n=k;l.jj||(l.jj=[]);l.jj.push(n);h.sJ(b.getId())}else a.UG.push(k);a.Lq.push(k);f.nodes&&(Ql(a,k)?(h.Ii(!0),Wl(a,h,f.nodes)):(f=a,l=h,f.WU||(f.WU=[]),f.WU.push(l)));h.mxa()||(b&&b.yD()?b.yD().A(h):a.Gl.A(h),a.oc[k]=h)}}
function gm(a,b){!a||null==a[b]||a[b]instanceof Object||(a[b]=dvt.j.xR(a[b]))}dvt.fg.prototype.vJ=function(a,b){var c=-1;this.wv&&(c=dvt.na.kb(this.wv,a));(!b&&-1<c||b&&0>c)&&this.dispatchEvent(new dvt.$a.Mh(b?"beforeExpand":"beforeCollapse",a))};dvt.fg.prototype.expand=function(a){this.wv||(this.wv=[]);0>dvt.na.kb(this.wv,a)&&(this.wv.push(a),this.ta(this.D(),this.wb,this.Nb),this.dispatchEvent(new dvt.$a.Mh("expand",a)))};dvt.fg.prototype.expand=dvt.fg.prototype.expand;
dvt.fg.prototype.collapse=function(a){var b=-1;this.wv&&(b=dvt.na.kb(this.wv,a));-1<b&&(this.wv.splice(b,1),this.ta(this.D(),this.wb,this.Nb),this.dispatchEvent(new dvt.$a.Mh("collapse",a)))};dvt.fg.prototype.collapse=dvt.fg.prototype.collapse;function $l(a,b,c,d,e){if(b.Bb()){b=b.jj;for(var f=[],h=0;h<b.length;h++){var k=a.ma(b[h]);if(k.nc){e[k.getId()]=!0;var l=a.ix(k,null,a.ph?!1:!0,d),n=l;d.oc[n.getId()]=n;l.LS(c);f.push(l);$l(a,k,l,d,e)}}c.K5(f)}}
function Ql(a,b){var c=a.wv?a.wv:a.D().expanded;return c&&-1<dvt.na.kb(c,b)||c&&-1<dvt.na.kb(c,"all")}function Yl(a,b){function c(a,b){if(a)for(var d=0;d<a.length;d++)if(a[d].id===b||c(a[d].nodes,b))return!0;return!1}for(var d=0;d<a.WU.length;d++){var e=a.WU[d];if(c(e.getData().nodes,b))return e.getId()}return null}dvt.fg.prototype.BC=function(){var a=this.Ya().tf(),b=!1;if(a){var c;a instanceof em?c=this.ma(a.getId()):a instanceof Zl&&(c=this.vd(a.getId()));b=a.Hd();c&&b&&c.Pf();this.Ya().ax(c)}};
dvt.fg.prototype.hkb=function(){this.wv=null};dvt.fg.prototype.clearDisclosedState=dvt.fg.prototype.hkb;dvt.H.DC(dvt.H.S6,{PROMOTED_LINK:"{0} link",PROMOTED_LINKS:"{0} links",PROMOTED_LINK_ARIA_DESC:"Indirect"});function hm(a,b){hm.C.constructor.call(this,a,b);this.Ntb();this.K=b}dvt.v.F(hm,dvt.zh,"DvtDiagramCategoryRolloverHandler");hm.prototype.Fia=function(a){return dvt.v.xi(this,function(){this.Hka(!0);this.K.cg(a)})};hm.prototype.Eia=function(a){return dvt.v.xi(this,function(){this.Ika();this.K.cg(a)})};
function Jl(){this.Init({skyros:im,alta:jm})}dvt.v.F(Jl,dvt.eb,"DvtDiagramDefaults");
var im={skin:dvt.j.vf,emptyText:null,selectionMode:"none",animationOnDataChange:"none",animationOnDisplay:"none",maxZoom:1,highlightMatch:"all",nodeHighlightMode:"node",linkHighlightMode:"link",panning:"none",touchResponse:"auto",zooming:"none",_statusMessageStyle:new dvt.j(dvt.eb.an),dnd:{drag:{nodes:{}},drop:{background:{},nodes:{},links:{}}},styleDefaults:{animationDuration:500,hoverBehaviorDelay:200,_highlightAlpha:.1,nodeDefaults:{_containerStyle:new dvt.j("border-color:#abb3ba;background-color:#f9f9f9;border-width:.5px;border-radius:1px;padding-top:20px;padding-left:20px;padding-bottom:20px;padding-right:20px;"),
labelStyle:dvt.eb.e7+"color:#383A47",hoverInnerColor:"rgb(255,255,255)",hoverOuterColor:"rgba(0,0,0, .3)",selectionColor:"rgb(0,0,0)",icon:{width:10,height:10,fillPattern:"none",shape:"circle"}},linkDefaults:{startConnectorType:"none",endConnectorType:"none",width:1,_style:{_type:"solid"},hoverInnerColor:"rgb(255,255,255)",hoverOuterColor:"rgba(0,0,0, .3)",selectionColor:"rgb(0,0,0)",labelStyle:dvt.eb.e7+"color:#383A47",_hitDetectionOffset:4},promotedLink:{startConnectorType:"none",endConnectorType:"none",
width:1,_style:{_type:"dot",strokeDasharray:"2,3"},color:"#778999",hoverInnerColor:"rgb(255,255,255)",hoverOuterColor:"rgba(0,0,0, .3)",selectionColor:"rgb(0,0,0)",_hitDetectionOffset:4}}},jm={};function Vl(a,b,c,d){this.Init(a,b,c,d)}dvt.v.F(Vl,dvt.Bq,"DvtDiagramDataAnimationHandler");Vl.prototype.Init=function(a,b,c,d){Vl.C.Init.call(this,a,b);this.gra=c;this.Ceb=d};Vl.prototype.ob=function(){return dvt.Ua.ds(this.gra.D().styleDefaults.animationDuration)/1E3};
Vl.prototype.No=function(a,b){var c=!1;b&&0<b.length&&(c=b[0]instanceof Zl);if(c&&!this.u().m5()){var c=km(a),d=km(b),e,f,h={},k;for(k in c)if(e=c[k],f=d[k])if(!e.ij&&!f.ij||e.ij&&f.ij&&e.getId()==f.getId())f.xg(this,e);else{var l=e.ij?e.getData()._links.length:1,n=f.ij?f.getData()._links.length:1;l>n&&!h[e.getId()]?lm(this,e,d,h,!0):l<n&&!h[f.getId()]&&lm(this,f,c,h,!1)}else-1==dvt.na.kb(this.Ceb.QJ(),e.getId())&&e.Uj(this);for(k in d)e=c[k],f=d[k],e||-1!=dvt.na.kb(this.gra.vnb(),f.getId())||f.Xi(this)}else Vl.C.No.call(this,
a,b)};function lm(a,b,c,d,e){for(var f=[],h=b.getData()._links,k=0;k<h.length;k++){var l=c[h[k].id];l&&-1===dvt.na.kb(f,l)&&f.push(l)}if(0<f.length){if(e){if(f&&0!=f.length)for(c=0;c<f.length;c++)f[c].xg(a,b)}else if(f&&0!=f.length)for(c=dvt.na.copy(b.dd()),b.xg(a,f[0]),e=1;e<f.length;e++)h={id:"_fakeLink"+e+b.getId()},h=dvt.bc.ae(h,b.getData()),h=new Zl(b.Ma().u(),b.Ma(),h,!0),h.ta(),h.ke(c),h.xg(a,f[e],!0);d[b.getId()]=!0}}
function km(a){for(var b={},c=0;c<a.length;c++){var d=a[c];if(d.ij)for(var e=d.getData()._links,f=0;f<e.length;f++)b[e[f].id]=d;else b[d.getId()]=d}return b}function Kl(a,b,c){this.Init(a,b,c);this.K=c}dvt.v.F(Kl,dvt.I,"DvtDiagramEventManager");p=Kl.prototype;p.Dq=function(a,b,c){a=this.K.D();"dim"==a.hoverBehavior&&(b=b.ee?b.ee():[],a.highlightedCategories=c?b.slice():null,c=dvt.$a.iJ(a.highlightedCategories,c),b=dvt.Ua.ds(a.styleDefaults.hoverBehaviorDelay),this.lK.cg(c,am(this.K),b,"any"==a.highlightMatch))};
p.Fha=function(a,b){return new hm(a,b)};p.xl=function(a){var b=!0,c=a.keyCode,d=this.tf(),e=d instanceof em?d.Rs:null;c!=dvt.KeyboardEvent.Sh&&this.cE?(e.wX(a),a.preventDefault()):c==dvt.KeyboardEvent.Sh&&e instanceof dvt.Oe?!a.shiftKey&&d.Hd()?(d.Od(),e.wX(a),a.preventDefault(),this.cE=!0):(a.shiftKey&&this.cE?(this.YT(a,d),a.preventDefault()):(this.cE&&d.Pf(),b=Kl.C.xl.call(this,a)),this.cE=!1):c==dvt.KeyboardEvent.ui&&a.ctrlKey&&a.shiftKey?d&&d.nm&&d.nm(a):b=Kl.C.xl.call(this,a);return b};
p.gB=function(){var a=this.K.D();return"none"!==a.panning||"none"!==a.zooming?dvt.I.HG:a.touchResponse===dvt.I.lz?dvt.I.lz:dvt.I.B_};p.nx=function(a){return this.oo(a,dvt.Rd.bO)};p.LD=function(a){return a==dvt.Rd.bO?!1:Kl.C.LD.call(this,a)};p.nk=function(){return this.K};p.jS=function(){return!0};p.VJ=function(){return this.nf.$v instanceof em?"nodes":null};
p.vT=function(){var a=this.nf.$v;if(this.K.Dn()&&1<this.K.Xg().Pk.length){for(var a=this.K.Xg().getSelection(),b=[],c=0;c<a.length;c++)a[c]instanceof em&&b.push(a[c].rl());return b}return a instanceof em?[a.rl()]:[]};p.xia=function(a){var b=this.nf.$v;return b instanceof em&&(b=b.aa(this.Ba.Ee))?(a=this.Ba.qg(a.pageX,a.pageY),new dvt.R(b.x-a.x,b.y-a.y)):null};p.yja=function(a){Kl.C.yja.call(this,a);this.K.Oa.mrb();this.hA(!0)};p.hA=function(a){this.K.bA&&this.K.Oa.TA(a)};
function mm(a){if(!a.vMa){var b=a.K.D();a.vMa=a.jS()&&b.dnd.drag.nodes.dataTypes}return a.vMa}p.bn=function(a){var b=this.lb(this.be(a));mm(this)&&b instanceof em&&this.hA(!1);Kl.C.bn.call(this,a)};p.Nn=function(a){Kl.C.Nn.call(this,a);this.hA(!0)};p.jO=function(a){mm(this)&&1==a.targetTouches.length&&this.lb(this.be(a))instanceof em&&this.hA(!1)};p.SZ=function(){mm(this)&&this.hA(!0)};
p.lG=function(a){a=this.lb(this.be(a));this.K.uc.wh("dropTarget",a);return null===a?"background":a instanceof em?"nodes":a instanceof Zl?"links":null};
p.l7=function(a){var b=a.Qo().dataTransfer,c=Number(b.getData(dvt.I.bia))||0,d=Number(b.getData(dvt.I.cia))||0,b=this.K.Oa.Pa.Jd(this.u().qg(a.pageX,a.pageY)),e=Cl(this.K),c={x:b.x-e.x+c,y:b.y-e.y+d};a=this.lb(this.be(a));a instanceof em?(c.nodeContext=a.rl(),a=(a=a.aa(this.Ba.Ee))?this.K.Oa.Pa.Jd({x:a.x,y:a.y}):null,c.nodeX=a?b.x-a.x:null,c.nodeY=a?b.y-a.y:null):a instanceof Zl&&(c.linkContext=a.rl());return c};
p.sK=function(a){a=this.lG(a);"background"===a?this.K.Oa.Gx.ge("oj-active-drop"):("nodes"===a||"links"===a)&&(a=this.K.uc.Dj("dropTarget"))&&a.sK&&a.sK()};p.ZT=function(a){a=this.lG(a);"background"===a?this.K.Oa.Gx.ge("oj-invalid-drop"):("nodes"===a||"links"===a)&&(a=this.K.uc.Dj("dropTarget"))&&a.ZT&&a.ZT()};p.eG=function(){this.K.Oa.Gx.ge(null);var a=this.K.uc.Dj("dropTarget");a&&a.eG&&a.eG();this.K.uc.wh("dropTarget",null)};function Ll(a,b){this.Init(a,b)}dvt.v.F(Ll,Fg,"DvtDiagramKeyboardHandler");
Ll.prototype.Bi=function(a){var b=!1;switch(a.keyCode){case dvt.KeyboardEvent.ox:case dvt.KeyboardEvent.sv:b=!0;break;case dvt.KeyboardEvent.Fv:case dvt.KeyboardEvent.St:b=a.altKey?!0:!1;break;default:b=Ll.C.Bi.call(this,a)}return b};Ll.prototype.xk=function(a){if(a.keyCode==dvt.KeyboardEvent.Sh){var b=this.yb.tf();if(b)return dvt.I.tc(a),b;b=Nl(this.Ma());if(0<b.length)return dvt.I.tc(a),this.LI(b)}return Ll.C.xk.call(this,a)};Ll.prototype.gO=function(a){return this.Ma().ma(a)};
function Zl(a,b,c,d){this.Init(a,b,c,d)}dvt.v.F(Zl,Nd,"DvtDiagramLink");p=Zl.prototype;p.Init=function(a,b,c,d){Zl.C.Init.call(this,a,c.id,b);this.Qb=c;this.xJ(d);this.K.Dn()&&this.setCursor("pointer");this.sJ(nm(this,b))};p.getData=function(){return this.Qb};p.getId=function(){return this.getData().id};p.Ue=function(){return this.getData().startNode};p.Ed=function(){return this.getData().endNode};p.yg=function(){var a=null;this.Fb&&(a=this.Fb.aa());return a};p.WM=function(){return this.getData().style};
p.wA=function(){return this.getData().width};p.wF=function(){return this.getData().color};p.bv=function(){return this.getData().startConnectorType};p.tt=function(){return this.getData().endConnectorType};p.R4=function(){return this.bv()?Td.mwa(this.bv(),this.eB(),this.eB()):0};p.j4=function(){return this.tt()?Td.mwa(this.tt(),this.eB(),this.eB()):0};
p.ta=function(){var a=this.Ma(),b=this.Fd(),c=a.ma(this.Ue()).Fd(),d=a.ma(this.Ed()).Fd();if(b){var e=a.ma(b).yD();b==c&&b==d?e.Ib(this,0):e.A(this)}else c||d?a.Gl.A(this):a.Yp.A(this);b=this.getData();c=dvt.B.ba(a.u())?dvt.da.Ql:dvt.da.Lp;b.label&&(d=b.labelStyle,e=dvt.da.wr,a=new dvt.da(a.u(),b.label,0,0),a.Db(new dvt.j(d)),a.Ly(c),a.WA(e),b=dvt.j.bi((new dvt.j(b.labelStyle)).getWidth()),0<b&&dvt.Ca.hd(a,b,Infinity,this)||this.A(a),this.Fb=a);this.Wf("img");this.vr();this.K.Ya().nb(this,this)};
p.ke=function(a){!this.gC&&a&&om(this.Ma(),this.getData(),this);Zl.C.ke.call(this,a)};
function om(a,b,c){var d=c.gC;d||(d=["M",0,0,"L",0,0]);var e=b.id,f=b.color,h=b.width;a=b.style;c.Rx=c.AZ("#000000",0,b._hitDetectionOffset);c.Ib(c.Rx,0);f=new dvt.xa(f,1,h);dvt.B.Wa()&&dvt.B.uq()&&1==dvt.B.HR()&&f.Of(!0);d=new dvt.vb(c.u(),d,e);d.qa(null);d.ge(b.className);if(a&&a instanceof Object){b=dvt.$c.bu;"customStyle"==a._type?a.strokeDasharray&&(b=dvt.$c.vD,a.strokeDasharray=af.Krb(a.strokeDasharray)):b=af.tZ(a._type);f.mo(b,a.strokeDasharray,a.strokeDashoffset);var k=dvt.bc.clone(a);dvt.na.forEach(["_type",
"strokeDasharray","strokeDashoffset"],function(a){delete k[a]});d.ea(k)}else b=af.tZ(a),f.mo(b,af.q7(b),af.r7(b));d.Ga(f);c.yJ(d);c.Ib(d,1)}p.mc=function(a){Zl.C.mc.call(this,a);a?this.tC(this.Wp,!0):this.GH();this.vr()};p.tb=function(){return this.Ma().Dn()&&"off"!=this.getData().selectable};
p.tC=function(a,b){if(a){this.Yl||(this.Yl=this.Pc().Zd());var c=this.Pc().Zd().clone();c.$w&&c.$w(this.getData().hoverInnerColor);this.Pc().Ga(c);Pd(this.Rj,c);Pd(this.Mj,c)}else this.Yl&&(this.Pc().Ga(this.Yl),Pd(this.Rj,this.Yl),Pd(this.Mj,this.Yl),this.Yl=null);this.Og||(this.Og=Qd(this,"#000000",1,0),this.Ib(this.Og,0));var c=b?this.getData().selectionColor:this.getData().hoverOuterColor,d=this.Og.Zd().clone();d.$w(c);d.Xa(2+this.eB());this.hZ(d,!0);this.Og.Ga(d,2)};
p.GH=function(){this.Yl&&(this.Pc().Ga(this.Yl),Pd(this.Rj,this.Yl),Pd(this.Mj,this.Yl),this.Yl=null);this.Og&&(this.removeChild(this.Og),this.Og.ya&&this.Og.ya(),this.Og=null)};p.hZ=function(a,b){var c=this.ria();if(c&&c instanceof Object)if("customStyle"==c._type){var d=null!=c.strokeDashoffset?dvt.j.bi(c.strokeDashoffset)+1:1;a.mo(dvt.$c.vD,af.Amb(c.strokeDasharray),d)}else c=af.tZ(c._type),a.mo(c,af.q7(c,b),af.r7(c,b));else Zl.C.hZ.call(this,a,b)};
p.qd=function(){this.Wp||(this.Wp=!0,this.tC(!0,this.xb()))};p.Lc=function(){this.xb()?this.tC(!1,!0):this.GH();this.Wp=!1};p.Vf=function(){var a=this.Ma().D().tooltip;return(a=a?a.renderer:null)?this.Ma().u().yf().Mw(a,this.rl()):this.Yd()};p.Yd=function(){return this.ij?1<this.getData()._links.length?dvt.H.Ze(this.Ma().D(),"promotedLinks",dvt.H.S6,"PROMOTED_LINKS",this.getData()._links.length):dvt.H.Ze(this.Ma().D(),"promotedLink",dvt.H.S6,"PROMOTED_LINK",this.getData()._links.length):this.getData().shortDesc};
p.rl=function(){return{id:this.getId(),type:this.ij?"promotedLink":"link",label:this.getData().label,data:this.ij?this.getData()._links:this.getData(),component:this.Ma().D()._widgetConstructor}};p.sd=function(){var a=[];this.tb()&&a.push(dvt.H.wa(dvt.H.Ha,this.xb()?"STATE_SELECTED":"STATE_UNSELECTED"));this.ij&&a.push(dvt.H.wa(dvt.H.S6,"PROMOTED_LINK_ARIA_DESC"));return dvt.oa.Sk(this.Yd(),a)};p.vr=function(){if(!dvt.B.sj()){var a=this.sd();a&&this.Id("label",a)}};
p.Gd=function(a){if(a.keyCode==dvt.KeyboardEvent.ui&&a.ctrlKey)return this;if(a.keyCode==dvt.KeyboardEvent.eh||a.keyCode==dvt.KeyboardEvent.If){var b=this.JL;b||(b=this.Ma().ma(kd(this.Ma(),this)));var c=this,d=this.Ma().yF(b.getId()),e=this.Ma().Ya().Cb;e&&e.Wea&&(c=e.Wea(b,this,a,d));c.JL=b;return c}return a.keyCode==dvt.KeyboardEvent.qf||a.keyCode==dvt.KeyboardEvent.Bf?(a=this.Rba(a.keyCode)?this.Ue():this.Ed(),this.Ma().ma(a)):a.type==dvt.MouseEvent.De?this:null};
p.Rba=function(a){var b=Wd(this),c=Xd(this),b=b.x<c.x?!0:!1;return a==dvt.KeyboardEvent.qf&&b||a==dvt.KeyboardEvent.Bf&&!b?!1:!0};p.Pf=function(){this.Yc=!0;this.qd()};p.Od=function(){this.Yc=!1;this.Lc()};p.Hd=function(){return this.Yc};p.ee=function(){return this.getData().categories?this.getData().categories:[this.getId()]};p.mxa=function(){var a=this.Ma().D().hiddenCategories;return a&&dvt.na.Tw(a,this.ee())||!this.Ma().ma(this.Ue())||!this.Ma().ma(this.Ed())?!0:!1};
p.xg=function(a,b,c){var d=b.dd(),e=this.dd(),f=new dvt.kd(this.u(),null,a.ob());dvt.na.Le(d,e)||(this.ke(d),d=dvt.G.fu,0<e.length&&isNaN(e[0])&&(d=dvt.G.sm),f.ka.O(d,this,this.dd,this.ke,e));b.Fb&&this.Fb&&(e=b.Fb.sb(),d=this.Fb.sb(),e.Le(d)||(this.Fb.rb(e),f.ka.O(dvt.G.gj,this.Fb,this.Fb.sb,this.Fb.rb,d)));b.Pc()&&this.Pc()&&(b=b.Pc().Zd(),e=this.Pc().Zd(),b&&e&&b instanceof dvt.xa&&e instanceof dvt.xa&&(b.gc()!=e.gc()||b.getWidth()!=e.getWidth())&&(this.Pc().Ga(b),f.ka.O(dvt.G.wK,this.Pc(),this.Pc().Zd,
this.Pc().Ga,e)));if(c){var h=this;dvt.bb.Jb(f,function(){h.getParent().removeChild(h)})}a.add(f,1)};p.Uj=function(a){this.Ma().Yp.A(this);var b=this,c=new dvt.bj(this.u(),this,a.ob());dvt.bb.Jb(c,function(){b.getParent().removeChild(b);b.ya()});a.add(c,0)};p.Xi=function(a){this.U(0);a.add(new dvt.lh(this.u(),this,a.ob()),2)};
p.Mga=function(a,b){a&&(a==dvt.da.Lp?this.Fb.Xh():a==dvt.da.Xk?this.Fb.Zf():a==dvt.da.Ql&&this.Fb.Fh());b&&(b==dvt.da.wr?this.Fb.sp():b==dvt.da.Fi?this.Fb.Qg():b==dvt.da.ep?this.Fb.ar():"baseline"==b&&this.Fb.hF())};p.sJ=function(a){this.SB=a};p.Fd=function(){return this.SB};
function nm(a,b){function c(a,b){for(var c=[],d=b.ma(a)?b.ma(a).Fd():null;d;)c.push(d),d=b.ma(d)?b.ma(d).Fd():null;return c}for(var d=c(a.Ue(),b),e=c(a.Ed(),b),f=0;f<d.length;f++)if(-1<dvt.na.kb(e,d[f]))return d[f];return null}p.sK=function(){this.Lx||this.y0("oj-diagram-link oj-active-drop")};p.ZT=function(){this.Lx||this.y0("oj-diagram-link oj-invalid-drop")};p.eG=function(){this.Lx&&(this.removeChild(this.Lx),this.Lx=null)};
p.y0=function(a){var b=this.getData()._hitDetectionOffset;this.Lx=Qd(this,"#000000",0,b,a);this.Lx.pb(!1);this.A(this.Lx)};function em(a,b,c){this.Init(a,b,c)}dvt.v.F(em,je,"DvtDiagramNode");p=em.prototype;p.Init=function(a,b,c){em.C.Init.call(this,a,c.id,b);this.Qb=c;this.K.Dn()&&this.setCursor("pointer")};p.getData=function(){return this.Qb};p.getId=function(){return this.Qb.id};p.mi=function(){return this.pu};p.yg=function(){var a=null;this.Fb&&(a=this.yE?this.yE:this.Fb.aa());return a};
p.mc=function(a){var b=this.Dm();em.C.mc.call(this,a);this.K.D().selectionRenderer?bm(this,this.K.D().selectionRenderer,this.Dm(),b):this.kJ(a);this.vr()};p.kJ=function(a){this.zt()&&this.zt().mc(a)};p.tb=function(){return this.Ma().Dn()&&"off"!=this.getData().selectable};p.MZ=function(){return this.ca};
p.ta=function(){var a=this.getData();if(this.K.D().renderer){if(bm(this,this.K.D().renderer,this.Dm(),null),this.Bb()){var b=this.Qa().getBoundingClientRect(),c=this.rc?this.rc.Qa().getBoundingClientRect():null;this.ei={left:c.left-b.left,right:b.right-c.right,top:c.top-b.top,bottom:b.bottom-c.bottom}}}else{if(this.Bb())pm(this.K,a,this);else if(qm(this.K,a,this),b=this.K,c=a.icon){var d=c.width,e=c.height,f=c.color,h=c.borderRadius,b=c.source?new dvt.Af(b.u(),d/2,e/2,d,e,h,c.source,c.sourceSelected,
c.sourceHover,c.sourceHoverSelected):new dvt.za(b.u(),c.shape,dvt.j.vf,d/2,e/2,d,e,h);"none"!=c.fillPattern?b.qa(new dvt.zc(c.fillPattern,f,f)):b.mb(f);null!=c.opacity&&b.U(c.opacity);c.borderColor&&b.Ga(new dvt.xa(c.borderColor,c.borderWidth));b.ea(c.style).ge(c.className);this.A(b);this.ca=b;if(this.zb){var c=a.icon,f=this.zb.getWidth(),d=this.zb.getHeight(),e=c.width,h=c.height,k=.5*(f-e),l=.5*(d-h);if(void 0!==c.positionX)k=parseFloat(c.positionX),dvt.B.ba(this.u())&&(k=f-k-e);else{var n=c.halign;
"start"==n?n=dvt.B.ba(this.u())?"right":"left":"end"==n&&(n=dvt.B.ba(this.u())?"left":"right");k="left"==n?0:"right"==n?f-e:k}void 0!==c.positionY?l=parseFloat(c.positionY):"top"==c.valign?l=0:"bottom"==c.valign&&(l=d-h);this.ca.Na(k,l)}this.zb||this.HN(b)}rm(this.zt(),a)}d=this.K;b=dvt.B.ba(d.u())?dvt.da.Ql:dvt.da.Lp;a.label&&(c=a.labelStyle,f=dvt.da.wr,d=new dvt.da(d.u(),a.label,0,0),d.Db(new dvt.j(c)),d.Ly(b),d.WA(f),b=dvt.j.bi((new dvt.j(a.labelStyle)).getWidth()),0<b&&dvt.Ca.hd(d,b,Infinity,
this)||this.A(d),this.Fb=d);mm(this.K.Ya())&&"off"!=this.getData().draggable&&(this.Rs?this:this.Bb()?this.$K:this.zb?this.zb:this.ca).ge("oj-diagram-node oj-draggable");b=null;this.Rs?this.Rs instanceof dvt.Oe?(c=this.Rs.aa())&&(b=new dvt.Z(c.x,c.y,c.a,c.b)):(c=this.Rs.getBBox())&&(b=new dvt.Z(c.x,c.y,c.width,c.height)):this.Bb()?b=this.$K.UJ(this):(b=this.zb?this.zb.UJ(this):null)&&this.ca?b=b.Fj(this.ca.UJ(this)):!b&&this.ca&&(b=this.ca.UJ(this));this.pu=b;b=this.K;this.IB&&(this.removeChild(this.IB),
this.IB=null);this.dm()&&"off"!=a.showDisclosure&&(c=b.D(),this.Bb()?(a=c._resources.collapse_ena,f=c._resources.collapse_ovr,d=c._resources.collapse_dwn):(a=c._resources.expand_ena,f=c._resources.expand_ovr,d=c._resources.expand_dwn),c=new dvt.Image(b.u(),a.src,0,0,a.width,a.height),f=new dvt.Image(b.u(),f.src,0,0,f.width,f.height),d=new dvt.Image(b.u(),d.src,0,0,d.width,d.height),c=new dvt.ja(b.u(),c,f,d,null,null,this.kpb,this),this.A(c),this.pu&&(a=dvt.B.ba(b.u())?this.pu.x+this.pu.a-a.width:
this.pu.x,c.Na(a,this.pu.y)),this.IB=c);this.Wf("img");this.vr();this.K.Ya().nb(this,this)};
function bm(a,b,c,d){var e=a.K.D()._contextHandler;if(e){var f=a.getData(),h=null;if(a.Bb())var h=a.yD(),k=h.aa(),h={element:h.Qa(),w:k?k.a-k.x:null,h:k?k.b-k.y:null};c=e(a.Qa(),a.Rs,h,f,c,d);b=b(c);a.Rs&&b!=a.Rs&&(a.Rs.namespaceURI===dvt.J.u_?a.e4().removeChild(a.Rs):a.removeChild(b),a.Rs=null);b&&b.namespaceURI===dvt.J.u_?a.Rs||(dvt.J.wf(a.e4(),b),a.Rs=b):b instanceof dvt.Oe?a.Rs||(a.A(b),a.Rs=b):b&&a.K.pO("dvt.Diagram: could not add custom node content for the node "+a.getId()+b,1)}else a.K.pO("dvt.Diagram: could not add custom node content - context handler is undefined",
1)}function qm(a,b,c){var d=dvt.bc.clone(b.backgroundStyle),e=[dvt.j.wo,dvt.j.ys,dvt.j.Lb,dvt.j.ub,dvt.j.cj,dvt.j.eg],f=sm(d,b._backgroundStyle,e);if(!f.oWa()){var h=dvt.j.bi(f.N(dvt.j.wo)),k=dvt.j.bi(f.N(dvt.j.ys)),l=f.N(dvt.j.Lb),n=f.N(dvt.j.ub),m=dvt.j.bi(f.N(dvt.j.cj)),f=dvt.j.bi(f.N(dvt.j.eg));a=new dvt.Rect(a.u(),0,0,h,k);a.mb(l);f&&(a.$h(f),a.ni(f));n&&a.Ga(new dvt.xa(n,1,m));d&&dvt.na.forEach(e,function(a){delete d[dvt.j.DM(a)]});a.ea(d).ge(b.backgroundClassName);c.A(a);c.HN(a);c.zb=a}}
function rm(a,b){var c=b.hoverInnerColor,d=b.hoverOuterColor,e=b.selectionColor,f=new dvt.xa(c,1,4);f.Of(!0);d=new dvt.xa(d,1,8);d.Of(!0);var h=new dvt.xa(e,1,2);h.Of(!0);var k=new dvt.xa(e,1,4);k.Of(!0);c=new dvt.xa(c,1,4);c.Of(!0);e=new dvt.xa(e,1,8);e.Of(!0);a.xq(f,d).ns(h,k).Mt(c,e)}p.HN=function(a){this.aR=a};p.zt=function(){if(!this.aR&&this.pu){var a=new dvt.Rect(this.K.u(),this.pu.x,this.pu.y,this.pu.a,this.pu.b);a.Wb();this.HN(a);this.Ib(a,0);rm(a,this.getData());this.aR=a}return this.aR};
p.qd=function(){var a=this.Dm();this.Wp=!0;this.K.D().hoverRenderer?bm(this,this.K.D().hoverRenderer,this.Dm(),a):this.Hy(!0)};p.Lc=function(){var a=this.Dm();this.Wp=!1;this.K.D().hoverRenderer?bm(this,this.K.D().hoverRenderer,this.Dm(),a):this.Hy(!1)};p.Hy=function(a){this.zt()&&(a?this.zt().qd():this.zt().Lc())};p.Vf=function(){var a=this.Ma().D().tooltip;return(a=a?a.renderer:null)?this.Ma().u().yf().Mw(a,this.rl()):this.Yd()};p.Yd=function(){return this.getData().shortDesc};
p.rl=function(){return{id:this.getId(),type:"node",label:this.getData().label,data:this.getData(),component:this.Ma().D()._widgetConstructor}};p.sd=function(){var a=[];this.tb()&&a.push(dvt.H.wa(dvt.H.Ha,this.xb()?"STATE_SELECTED":"STATE_UNSELECTED"));this.dm()&&a.push(this.Bb()?dvt.H.wa(dvt.H.Ha,"STATE_EXPANDED"):dvt.H.wa(dvt.H.Ha,"STATE_COLLAPSED"));return dvt.oa.Sk(this.Yd(),a)};p.vr=function(){if(!dvt.B.sj()){var a=this.sd();a&&this.Id("label",a)}};
p.Gd=function(a){var b=null;if(a.keyCode==dvt.KeyboardEvent.ui&&a.ctrlKey)b=this;else if((a.keyCode==dvt.KeyboardEvent.Fv||dvt.KeyboardEvent.St)&&a.altKey){var c=this.Ma().yF(this.getId()),d=this.Ma().Ya().Cb;d&&d.GX&&(b=d.GX(this,a,c));b?b.JL=this:b=this}else a.keyCode==dvt.KeyboardEvent.ox?b=this.Bb()?this.Ge()[0]:this:a.keyCode==dvt.KeyboardEvent.sv?b=(b=this.Fd()?this.Ma().ma(this.Fd()):null)?b:this:a.type==dvt.MouseEvent.De?b=this:(b=(b=this.Fd()?this.Ma().ma(this.Fd()):null)?b.Ge():Nl(this.Ma()),
b=dvt.Cb.zF(this,a,b));return b};p.nm=function(a){a.keyCode==dvt.KeyboardEvent.ui&&a.ctrlKey&&a.shiftKey&&this.dm()&&this.Ma().vJ(this.getId(),!this.Bb())};p.dm=function(){return null===this.getData().nodes||void 0===this.getData().nodes&&!this.Ma().D().childNodes?!1:!0};p.Pf=function(){var a=this.Dm();this.Yc=!0;this.K.D().focusRenderer?bm(this,this.K.D().focusRenderer,this.Dm(),a):this.gD(!0)};
p.Od=function(){this.Hd()&&(this.Dm(),this.Yc=!1,this.K.D().focusRenderer?bm(this,this.K.D().focusRenderer,this.getData(),this.Dm()):this.gD(!1))};p.gD=function(a){this.Hy(a)};p.Hd=function(){return this.Yc};p.ee=function(){return this.getData().categories?this.getData().categories:[this.getId()]};p.mxa=function(){var a=this.Ma().D().hiddenCategories;return a&&dvt.na.Tw(a,this.ee())?!0:!1};
p.xg=function(a,b){var c=new dvt.kd(this.u(),null,a.ob());if(this.Bb()||b.Bb())if(this.Bb()&&b.Bb())if(this.K.D().renderer)tm(this,a,b);else{um(c,b,this);var d=b.$K,e=this.$K;e&&d&&(c.ka.O(dvt.G.vo,e,e.jd,e.qa,e.jd()),e.qa(d.jd()),c.ka.O(dvt.G.V,e,e.getWidth,e.Xa,e.getWidth()),e.Xa(d.getWidth()),c.ka.O(dvt.G.V,e,e.getHeight,e.qb,e.getHeight()),e.qb(d.getHeight()));dvt.B.ba(this.u())&&b.IB&&this.IB&&(d=b.IB.ra(),e=this.IB.ra(),d!=e&&(this.IB.fa(d),c.ka.O(dvt.G.V,this.IB,this.IB.ra,this.IB.fa,e)));
for(var d=[],e=[],f=this.jj,h=0;h<f.length;h++)d.push(this.Ma().ma(f[h]));for(var f=b.jj,k=a.gra.eVa(),h=0;h<f.length;h++)e.push(k[f[h]]);a.No(e,d)}else tm(this,a,b);else um(c,b,this),b.ca&&this.ca&&(c.ka.O(dvt.G.PD,this.ca,this.ca.sA,this.ca.qJ,this.ca.sA()),this.ca.qJ(b.ca.sA())),b.Fb&&this.Fb&&(d=b.Fb.sb(),e=this.Fb.sb(),d.Le(e)||(this.Fb.rb(d),c.ka.O(dvt.G.gj,this.Fb,this.Fb.sb,this.Fb.rb,e))),vm(c,b.zb,this.zb),vm(c,b.ca,this.ca);a.add(c,1)};
function tm(a,b,c){var d=c.mi(),e=a.mi();if(d.Le(e)){var f=new dvt.kd(a.u(),null,b.ob());um(f,c,a);b.add(f,1)}else{a.getParent().A(c);var h=e.a/d.a,k=d.a/e.a,f=new dvt.kd(a.u(),null,b.ob()),l=new dvt.R(a.ra()+.5*e.a,a.pa()+.5*e.b);f.ka.O(dvt.G.V,c,c.ra,c.fa,l.x-d.a*h*.5);f.ka.O(dvt.G.V,c,c.pa,c.ua,l.y-d.b*h*.5);var d=new dvt.R(c.ra()+.5*d.a,c.pa()+.5*d.b),l=a.ra(),n=a.pa();a.fa(d.x-e.a*k*.5);a.ua(d.y-e.a*k*.5);f.ka.O(dvt.G.V,a,a.ra,a.fa,l);f.ka.O(dvt.G.V,a,a.pa,a.ua,n);b.add(f,1);e=new dvt.FJ(a.u(),
c,new dvt.R(h,h),b.ob());b.add(e,1);e=new dvt.bj(a.u(),c,b.ob());b.add(e,1);dvt.bb.Jb(e,function(){a.getParent().removeChild(c)});a.yh(k);a.Ig(k);k=new dvt.FJ(a.u(),a,new dvt.R(1,1),b.ob());b.add(k,1);a.U(0);k=new dvt.lh(a.u(),a,b.ob());b.add(k,1)}}function um(a,b,c){if(c&&b){var d=b.ra();b=b.pa();var e=c.ra(),f=c.pa();d!=e&&(c.fa(d),a.ka.O(dvt.G.V,c,c.ra,c.fa,e));b!=f&&(c.ua(b),a.ka.O(dvt.G.V,c,c.pa,c.ua,f))}}function vm(a,b,c){b&&c&&(a.ka.O(dvt.G.vo,c,c.jd,c.qa,c.jd()),c.qa(b.jd()))}
p.Uj=function(a){this.Ma().Gl.A(this);var b=this,c=new dvt.bj(this.u(),this,a.ob());dvt.bb.Jb(c,function(){b.getParent().removeChild(b);b.ya()});a.add(c,0)};p.Xi=function(a){this.U(0);a.add(new dvt.lh(this.u(),this,a.ob()),2)};p.Dm=function(a){return{hovered:this.Wp,selected:this.xb(),focused:this.Yc,zoom:a?a:this.Ma().Oa.Bg(),expanded:this.Bb()}};
p.Mga=function(a,b){a&&(a==dvt.da.Lp?this.Fb.Xh():a==dvt.da.Xk?this.Fb.Zf():a==dvt.da.Ql&&this.Fb.Fh());b&&(b==dvt.da.wr?this.Fb.sp():b==dvt.da.Fi?this.Fb.Qg():b==dvt.da.ep?this.Fb.ar():"baseline"==b&&this.Fb.hF())};
p.wp=function(){if(!this.ei&&this.K.D().renderer){var a=this.Qa().getBoundingClientRect(),b=this.rc?this.rc.Qa().getBoundingClientRect():null;this.ei={left:b.left-a.left,right:a.right-b.right,top:b.top-a.top,bottom:a.bottom-b.bottom}}else this.ei||(a=sm(this.Qb.containerStyle,this.Qb._containerStyle,["padding-left","padding-right","padding-top","padding-bottom"]),this.ei={left:a.Vg("padding-left"),right:a.Vg("padding-right"),top:a.Vg("padding-top"),bottom:a.Vg("padding-bottom")});return this.ei};
p.Ge=function(){for(var a=[],b=this.jj?this.jj.length:-1,c=0;c<b;c++){var d=this.Ma().ma(this.jj[c]);d&&a.push(d)}return a};p.sJ=function(a){this.SB=a};p.Fd=function(){return this.SB};p.yD=function(){this.rc||(this.rc=new dvt.la(this.u()),this.A(this.rc));return this.rc};p.kpb=function(a){dvt.I.tc(a);this.K.vJ(this.getId(),!this.Bb())};
function pm(a,b,c){c.$K&&(c.removeChild(c.$K),c.$K=null);var d=dvt.bc.clone(b.containerStyle),e=[dvt.j.Lb,dvt.j.ub,dvt.j.cj,dvt.j.eg],f=sm(d,b._containerStyle,e),h=f.N(dvt.j.Lb),k=f.N(dvt.j.ub),l=dvt.j.bi(f.N(dvt.j.cj)),f=dvt.j.bi(f.N(dvt.j.eg)),n=c.yD(),m=c.wp();n.Na(m.left,m.top);n=n.oq();a=new dvt.Rect(a.u(),0,0,n.a+m.left+m.right,n.b+m.top+m.bottom);a.mb(h);f&&(a.$h(f),a.ni(f));k&&a.Ga(new dvt.xa(k,1,l));d&&dvt.na.forEach(e,function(a){delete d[dvt.j.DM(a)]});a.ea(d).ge(b.containerClassName);
c.Ib(a,0);c.HN(a);c.$K=a}function sm(a,b,c){var d=new dvt.j;dvt.na.forEach(c,function(c){var f=null,h=dvt.j.DM(c);a&&null!=a[h]?f=a[h]:b&&(f=b.N(c));d.ea(c,f)});return d}p.Ml=function(){return!0};p.am=function(){return"off"===this.getData().draggable?null:[this.getId()]};p.Zr=function(){if(this.K.Dn()&&1<this.K.Xg().Pk.length){for(var a=this.K.Xg().getSelection(),b=[],c=0;c<a.length;c++)b.push(a[c]);return b}return this};p.sK=function(){this.Lx||this.y0("oj-diagram-node oj-active-drop")};
p.ZT=function(){this.Lx||this.y0("oj-diagram-node oj-invalid-drop")};p.eG=function(){this.Lx&&(this.removeChild(this.Lx),this.Lx=null)};p.y0=function(a){var b;if(this.Rs||this.Bb()||this.zb||this.ca&&this.ca instanceof dvt.Af){b=new dvt.Rect(this.K.u(),this.pu.x,this.pu.y,this.pu.a,this.pu.b);var c=this.Bb()?this.$K.hr():this.zb?this.zb.hr():null;c&&(b.$h(c),b.ni(c))}else this.ca&&this.ca instanceof dvt.za&&(b=this.ca.Rm());b.Wb();b.ge(a);b.pb(!1);this.A(b);this.Lx=b};
function fm(a){this.Init(a)}aa("DvtDiagramAutomation",fm);dvt.v.F(fm,dvt.Qd,"DvtDiagramAutomation");fm.prototype.Init=function(a){this.K=a};fm.prototype.Jn=function(a){return(a=this.K.Ya().lb(a))&&a instanceof em?"node["+this.K.RJ().indexOf(a.getId())+"]":a&&a instanceof Zl?"link["+this.K.QJ().indexOf(a.getId())+"]":null};
fm.prototype.th=function(a){if(a==dvt.Qd.qB)return this.AD(this.K);var b=this.NQ(a);a=b.component;var b=b.index,c=null;"node"==a?c=this.fk(b):"link"==a&&(c=wm(this,b));return c?c.Qa():null};fm.prototype.getDomElementForSubId=fm.prototype.th;fm.prototype.NQ=function(a){var b=a,c=-1,d=a.substring(0,a.indexOf("["));d&&(b="node"==d||"link"==d?d:null,c=parseInt(a.substring(a.indexOf("[")+1,a.indexOf("]"))));return{component:b,index:c}};fm.prototype.Fg=function(){return this.K.Fg()};
fm.prototype.getNodeCount=fm.prototype.Fg;fm.prototype.Yu=function(){return this.K.Yu()};fm.prototype.getLinkCount=fm.prototype.Yu;fm.prototype.xd=function(a){if(a=this.fk(a)){var b={};b.id=a.getId();b.selected=a.xb();b.tooltip=a.Yd();b.label=a.getData().label;var c=a.getData().backgroundStyle;c&&c instanceof Object&&(c=dvt.j.jua(c));b.background=c;b.icon=this.d1(a.MZ());b.expanded=a.Bb();return b}return null};fm.prototype.getNode=fm.prototype.xd;
fm.prototype.MX=function(a){if(a=wm(this,a)){var b={};b.id=a.getId();b.selected=a.xb();b.tooltip=a.Yd();b.label=a.getData().label;b.color=a.wF();b.width=a.wA();b.style=xm(a.WM());b.startNode=a.Ue();b.endNode=a.Ed();b.startConnectorType=a.bv();b.endConnectorType=a.tt();return b}return null};fm.prototype.getLink=fm.prototype.MX;
fm.prototype.gob=function(a,b){var c=this.fk(a),d=this.fk(b);if(!c||!d)return null;c=c.getId();d=d.getId();return(d=this.K.vd("_plL"+c+"_L"+d))?(c={},c.id=d.getId(),c.selected=d.xb(),c.tooltip=d.Yd(),c.color=d.wF(),c.width=d.wA(),c.style=xm(d.WM()),c.startNode=d.Ue(),c.endNode=d.Ed(),c.startConnectorType=d.bv(),c.endConnectorType=d.tt(),c.count=d.getData()._links.length,c):null};fm.prototype.getPromotedLink=fm.prototype.gob;
function xm(a){return a&&a instanceof Object?"customStyle"==a._type?(a=dvt.bc.clone(a),delete a._type,dvt.j.jua(a)):a._type:a}fm.prototype.Wmb=function(){return this.K.wv};fm.prototype.getExpanded=fm.prototype.Wmb;fm.prototype.d1=function(a){if(a){var b={};b.shape=a instanceof dvt.za?a.Xd():"none";a.jd()&&(b.color=a.jd().gc());return b}return null};fm.prototype.fk=function(a){var b=this.K.RJ();return 0<=a&&a<b.length?this.K.ma(b[a]):null};
function wm(a,b){var c=a.K.QJ();return 0<=b&&b<c.length?a.K.vd(c[b]):null};
  return dvt;
});
