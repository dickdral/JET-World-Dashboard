/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(['./DvtToolkit'], function(dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.

var p;function aa(a,b){0==a.indexOf("dvt.")&&(a=a.substring(4));var c=a.split("."),d=eval("dvt");c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}Math.floor(2147483648*Math.random()).toString(36);
(function(a){function b(){}function c(a,b,c){this.Init(a,b,c)}function d(){this.Init({alta:d.oh})}function e(a){this.Init(a)}a.Ob=function(a,b,c){this.Init(a,b,c)};a.v.F(a.Ob,a.Oe);a.Ob.Y7="vertical";a.Ob.Pl=function(){return a.B.Wa()};a.Ob.Xe=function(a,b,c,d){c=(c-a)*d;a=b-a;return 0==c||0==a?0:c/a};a.Ob.Yi=function(a,b,c,d){b=c*(b-a);return 0==b||0==d?a:b/d+a};a.Ob.newInstance=function(b,c,d){return new a.Ob(b,c,d)};a.Ob.Sla="seconds minutes hours days weeks months quarters years".split(" ");a.Ob.prototype.Init=
function(b,c,f){a.Ob.C.Init.call(this,b,c,f);this.Zma=new e;this.dl=h.AAa;this.FS(!1,!1,!1,!1);this.rH=b.x4().dateToIsoWithTimeZoneConverter;this.Dz={$Sa:[a.H.wa(a.H.Ha,"DAY_SHORT_SUNDAY",null),a.H.wa(a.H.Ha,"DAY_SHORT_MONDAY",null),a.H.wa(a.H.Ha,"DAY_SHORT_TUESDAY",null),a.H.wa(a.H.Ha,"DAY_SHORT_WEDNESDAY",null),a.H.wa(a.H.Ha,"DAY_SHORT_THURSDAY",null),a.H.wa(a.H.Ha,"DAY_SHORT_FRIDAY",null),a.H.wa(a.H.Ha,"DAY_SHORT_SATURDAY",null),a.H.wa(a.H.Ha,"DAY_SUNDAY",null),a.H.wa(a.H.Ha,"DAY_MONDAY",null),
a.H.wa(a.H.Ha,"DAY_TUESDAY",null),a.H.wa(a.H.Ha,"DAY_WEDNESDAY",null),a.H.wa(a.H.Ha,"DAY_THURSDAY",null),a.H.wa(a.H.Ha,"DAY_FRIDAY",null),a.H.wa(a.H.Ha,"DAY_SATURDAY",null)],Zfa:[a.H.wa(a.H.Ha,"MONTH_SHORT_JANUARY",null),a.H.wa(a.H.Ha,"MONTH_SHORT_FEBRUARY",null),a.H.wa(a.H.Ha,"MONTH_SHORT_MARCH",null),a.H.wa(a.H.Ha,"MONTH_SHORT_APRIL",null),a.H.wa(a.H.Ha,"MONTH_SHORT_MAY",null),a.H.wa(a.H.Ha,"MONTH_SHORT_JUNE",null),a.H.wa(a.H.Ha,"MONTH_SHORT_JULY",null),a.H.wa(a.H.Ha,"MONTH_SHORT_AUGUST",null),
a.H.wa(a.H.Ha,"MONTH_SHORT_SEPTEMBER",null),a.H.wa(a.H.Ha,"MONTH_SHORT_OCTOBER",null),a.H.wa(a.H.Ha,"MONTH_SHORT_NOVEMBER",null),a.H.wa(a.H.Ha,"MONTH_SHORT_DECEMBER",null),a.H.wa(a.H.Ha,"MONTH_JANUARY",null),a.H.wa(a.H.Ha,"MONTH_FEBRUARY",null),a.H.wa(a.H.Ha,"MONTH_MARCH",null),a.H.wa(a.H.Ha,"MONTH_APRIL",null),a.H.wa(a.H.Ha,"MONTH_MAY",null),a.H.wa(a.H.Ha,"MONTH_JUNE",null),a.H.wa(a.H.Ha,"MONTH_JULY",null),a.H.wa(a.H.Ha,"MONTH_AUGUST",null),a.H.wa(a.H.Ha,"MONTH_SEPTEMBER",null),a.H.wa(a.H.Ha,"MONTH_OCTOBER",
null),a.H.wa(a.H.Ha,"MONTH_NOVEMBER",null),a.H.wa(a.H.Ha,"MONTH_DECEMBER",null)]};this.$g=new d};a.Ob.prototype.Df=function(a){this.W=this.$g.un(a)};a.Ob.prototype.HD=function(a){this.qw=new b;return this.qw.parse(a)};a.Ob.prototype.Mv=function(b){var c=b.orientation;this.de=c&&c==a.Ob.Y7?!0:!1;this.gYa(this.de);this.Eu=b.kza;this.zI=b.aZa?b.aZa.reverse():[b.scale];this.lR=b.mza;this.Co=b.L3;this.mH=b.K3;this.Xb=b.start;this.Hc=b.end;this.EL=b.gY;this.lg=b.scale;this.Wv=b.FSa;this.iF()};a.Ob.prototype.RF=
function(a,b){if("undefined"===typeof b||null===b)b=this.Lf;this.le=b<a?a:b};a.Ob.prototype.Uk=function(){return a.B.ba(this.u())};a.Ob.prototype.Gb=function(){return this.de};a.Ob.prototype.ta=function(a,b,c){a&&!this.W&&(this.wb=b,this.Nb=c,this.hPa(),this.efa(a,this.Lf));this.DH(b,c)};a.Ob.prototype.efa=function(a,b){this.Df(a);this.gq=this.W._resources;null==this.gq&&(this.gq=[]);this.Zx=this.W._locale?this.W._locale:"en-US";var c=this.gq.firstDayOfWeek;null==c&&(c=0);this.Zma.Jtb(c);this.rH||
(this.rH=this.u().x4().dateToIsoWithTimeZoneConverter);c=this.HD(this.W);this.Mv(c);this.lg&&this.xrb(this.Xb,this.Hc,b);return this.le};a.Ob.prototype.Uw=function(){var b=this.lg&&-1!=a.na.kb(a.Ob.Sla,this.lg),c=this.lg&&this.Co&&this.Co[this.lg],d=this.Xb&&this.Hc&&this.Hc>this.Xb;return(b||c)&&d};a.Ob.prototype.mm=function(){return this.Eu?this.Eu:a.H.wa(a.H.Ha,"TIMEAXIS")};a.Ob.prototype.iF=function(){this.P9=new a.j(h.Tlb(this.W));this.P9.aj(this.EL);var b=this.P9.Sg();this.P9.aj("border:"+2*
b+"px;");this.SXa(b)};a.Ob.prototype.hPa=function(){this.de?(this.Lf=this.Nb,this.qh=this.wb):(this.Lf=this.wb,this.qh=this.Nb)};a.Ob.prototype.Hhb=function(){null!==this.qh&&this.Nya(this.qh-this.gwa());this.PK=this.le+this.gwa()-h.A_a};a.Ob.prototype.yib=function(a,b){this.wb=a;this.Nb=b;this.hPa();this.RF(this.Lf);this.Hhb()};a.Ob.prototype.DH=function(a,b){this.yib(a,b);f.ssb(this)};a.Ob.prototype.xrb=function(a,b,c){this.WXa(this.Wv);this.mo("short",this.Dz);this.HJa=[];this.ao=[];this.gX=[];
this.de?this.Fga(this.gq.converterVert):this.Fga(this.gq.converter);this.lR&&this.zYa(this.lR);for(var d=this.lg,e=0;e<this.zI.length;e++){var f=this.zI[e],h=this.Ffb(f,d,a,b);this.Gfb(e,f,a,b,h,c)}this.Lt(d)};a.Ob.prototype.Ffb=function(b,c,d,e){this.Lt(b);var f=Infinity,q=0,w;if(this.Co&&this.Co[b])w=this.Co[b],b=w.times,w=w.labels;else if(this.mH&&this.mH[b])w=this.mH[b],b=w.times,w=w.labels;else for(b=[],w=[],d=this.mX(d).getTime(),b.push(d);d<e;)w.push(this.yR(new Date(d))),d=this.SX(d).getTime(),
b.push(d);e=[];for(var x=0;x<w.length;x++){d=b[x];var v=new a.da(this.u(),w[x],0,0,"s_label"+d);v.Db(h.Rlb(this.W));v.time=d;var z=b[x+1];this.A(v);var u=v.aa();this.removeChild(v);if(this.de)var D=u.b,u=u.a,B=h.CAa;else D=u.a,u=u.b,B=h.EAa;d=(z-d)/Math.max(B,D+2*h.DAa);d<f&&(f=d);u>q&&(q=u);e.push(v)}this.Nya(q+2*h.DAa);this.HJa.push(b);this.ao.push(e);this.Lt(c);return f};a.Ob.prototype.Gfb=function(a,b,c,d,e,f){c=null!==this.qh?f:(d-c)/e;this.gX.push(c);b==this.lg&&(this.rp=a,this.RF(c,f));0==
a&&(this.M1=this.ao[this.ao.length-1].length*f)};a.Ob.prototype.Lt=function(a){this.lg=a};a.Ob.prototype.zYa=function(a){this.lR=a};a.Ob.prototype.cxa=function(){for(var a=0;a<this.zI.length-1;a++)if(this.zI[a]==this.lg){this.lg=this.zI[a+1];break}};a.Ob.prototype.oua=function(){for(var a=1;a<this.zI.length;a++)if(this.zI[a]==this.lg){this.lg=this.zI[a-1];break}};a.Ob.prototype.WXa=function(a){this.Wv=a};a.Ob.prototype.Fga=function(a){this.Yna=a};a.Ob.prototype.Nya=function(a){a>this.Vv&&(this.Vv=
a)};a.Ob.prototype.aS=function(){null==this.o3&&(this.o3=30);return this.o3};a.Ob.prototype.SXa=function(a){this.dl=a};a.Ob.prototype.FS=function(a,b,c,d){this.vIa=(a|0)*this.dl;this.I9a=(b|0)*this.dl;this.sIa=(c|0)*this.dl;this.H9a=(d|0)*this.dl};a.Ob.prototype.Ujb=function(){for(var a=this.de?{top:this.ve(),right:this.PK,bottom:this.ve(),left:this.PK}:{top:this.PK,right:this.ve(),bottom:this.PK,left:this.ve()},b=[],c=0,d=1,e=["top","right","bottom","left"],f=0;f<e.length;f++)0<this.Sg(e[f])==d?
c+=a[e[f]]:(b.push(c),c=a[e[f]],d=Math.abs(d-1));b.push(c);return b.toString()};a.Ob.prototype.gwa=function(){return this.vIa+this.sIa};a.Ob.prototype.Sg=function(a){switch(a){case "top":return this.vIa;case "right":return this.I9a;case "bottom":return this.sIa;case "left":return this.H9a;default:return this.dl}};a.Ob.prototype.ve=function(){return this.Vv+this.gwa()};a.Ob.prototype.mo=function(a,b){this.ebb=new c("short"==a?c.SHORT:c.I1a,b,this.Zx)};a.Ob.prototype.mX=function(a){return this.Zma.mX(new Date(a),
this.lg)};a.Ob.prototype.SX=function(a){return this.Zma.SX(a,this.lg)};a.Ob.prototype.yR=function(a,b,c){var d=this.lg;if("axis"==(c||"axis"))(b=b||this.Wv)?b[d]?b=b[d]:b["default"]&&(b=b["default"]):this.Yna&&this.Yna[d]&&(b=this.Yna[d]);else if(!b)if(b="hours"==d||"minutes"==d||"seconds"==d?{formatType:"datetime",dateFormat:"medium",timeFormat:"medium"}:{formatType:"date",dateFormat:"medium"},c=this.gq.converterFactory)b=c.createConverter(b);else{b="toLocaleDateString";c={year:"numeric",month:"short",
day:"numeric"};if("hours"==d||"minutes"==d||"seconds"==d)b="toLocaleString",c={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};try{return a[b](this.Zx,c)}catch(e){}return a[b]()}if(b){if(b.format)return b.format(this.rH?this.rH(a):a);if(b.getAsString)return b.getAsString(a)}return this.ebb.format(a,d,this.lR)};a.Ob.prototype.gYa=function(a){this.Vv=a?h.EAa:h.CAa};a.Ob.prototype.Lya=function(){this.qh=null};a.Ob.prototype.RS=function(a){this.rp=a};a.v.F(e,
a.v);e.prototype.Init=function(){this.lab=864E5;this.uKa=0};e.prototype.Jtb=function(a){this.uKa=a};e.prototype.mX=function(a,b){var c=new Date(a.getTime());if("weeks"==b){c.setHours(0,0,0);var d=(a.getDay()-this.uKa+7)%7;0<d&&c.setTime(c.getTime()-d*this.lab)}else"months"==b?c.setDate(1):"days"==b?c.setHours(0,0,0):"hours"==b?c.setMinutes(0,0,0):"minutes"==b?c.setSeconds(0,0):"seconds"==b?c.setMilliseconds(0):"quarters"==b?(c.setDate(1),d=2-(a.getMonth()+11)%3,0<d&&c.setMonth(c.getMonth()+d)):"halfyears"==
b?(c.setDate(1),d=5-(a.getMonth()+11)%6,0<d&&c.setMonth(c.getMonth()+d)):"years"==b?(c.setMonth(0),c.setDate(1)):"twoyears"==b&&(c.setMonth(0),c.setDate(1));return c};e.prototype.SX=function(a,b){if("seconds"==b)return new Date(a+1E3);if("minutes"==b)return new Date(a+6E4);if("hours"==b)return new Date(a+36E5);var c=new Date(a);"days"==b?c.setDate(c.getDate()+1):"weeks"==b?c.setDate(c.getDate()+7):"months"==b?c.setMonth(c.getMonth()+1):"quarters"==b?c.setMonth(c.getMonth()+3):"halfyears"==b?c.setMonth(c.getMonth()+
6):"years"==b?c.setFullYear(c.getFullYear()+1):"twoyears"==b?c.setFullYear(c.getFullYear()+2):c.setYear(c.getYear()+1);return c};a.v.F(d,a.eb,"DvtTimeAxisDefaults");d.oh={backgroundColor:"rgba(255,255,255,0)",borderColor:"#d9dfe3",separatorColor:"#bcc7d2",labelStyle:new a.j(a.eb.Kp+"color: #333333;")};a.v.F(c,a.v);c.I1a=0;c.SHORT=1;c.prototype.Init=function(a,b,c){this.nl=a;this.Dz=b;this.Zx=c;this.mn=[];this.mn[0]={};this.mn[0].seconds="HH:MM:ss";this.mn[0].minutes="HH:MM";this.mn[0].hours="HH:MM";
this.mn[0].days="dddd";this.mn[0].weeks="m/dd";this.mn[0].months="mmmm";this.mn[0].quarters="mmmm";this.mn[0].halfyears="yyyy";this.mn[0].years="yyyy";this.mn[0].twoyears="yyyy";this.mn[1]={};this.mn[1].seconds="HH:MM:ss";this.mn[1].minutes="HH:MM";this.mn[1].hours="HH:MM";this.mn[1].days="m/dd";this.mn[1].weeks="m/dd";this.mn[1].months="mmm";this.mn[1].quarters="mmm";this.mn[1].halfyears="yy";this.mn[1].years="yy";this.mn[1].twoyears="yy"};c.prototype.format=function(a,b,c){b=this.mn[this.nl][b];
if(null!=b){var d=!1;if(c){a=a.getTime();for(var d=Object.keys(c),e=0,f=0;f<d.length;f++)a>=parseInt(d[f],10)&&(e=c[d[f]]);a=new Date(a+e);d=!0}if(-1!=b.indexOf(":"))var h=":";else-1!=b.indexOf("/")&&(h="/");if(h){b=b.split(h);c=this.ava(a,b[0],d);for(f=1;f<b.length;f++)c+=h+this.ava(a,b[f],d);return c}return this.ava(a,b,d)}try{return a.toLocaleString(this.Zx)}catch(x){}return a.toLocaleString()};c.prototype.ava=function(a,b,c){if(c)switch(b){case "ss":return a=a.getUTCSeconds(),10>a?"0"+a:a;case "HH":return a=
a.getUTCHours(),10>a?"0"+a:a;case "MM":return a=a.getUTCMinutes(),10>a?"0"+a:a;case "dd":return a=a.getUTCDate(),10>a?"0"+a:a;case "dddd":return this.Dz.$Sa[a.getUTCDay()+7];case "m":return a.getUTCMonth()+1;case "mmm":return this.Dz.Zfa[a.getUTCMonth()];case "mmmm":return this.Dz.Zfa[a.getUTCMonth()+12];case "yy":return a.getUTCFullYear().toString().substring(2,4);default:return a.getUTCFullYear()}else switch(b){case "ss":return a=a.getSeconds(),10>a?"0"+a:a;case "HH":return a=a.getHours(),10>a?
"0"+a:a;case "MM":return a=a.getMinutes(),10>a?"0"+a:a;case "dd":return a=a.getDate(),10>a?"0"+a:a;case "dddd":return this.Dz.$Sa[a.getDay()+7];case "m":return a.getMonth()+1;case "mmm":return this.Dz.Zfa[a.getMonth()];case "mmmm":return this.Dz.Zfa[a.getMonth()+12];case "yy":return a.getFullYear().toString().substring(2,4);default:return a.getFullYear()}};a.v.F(b,a.v,"DvtTimeAxisParser");b.prototype.parse=function(a){this.uM=new Date(a.start);this.oL=new Date(a.end);var b=this.n_();b.gY=a.style;
b.id=a.id;b.kza=a.shortDesc;b.mza=a._tzo;b.GWa=a._ip;b.L3=a._cts;b.K3=a._cfs;b.scale=a.scale;b.FSa=a.converter;b.aZa=a.zoomOrder?a.zoomOrder:null;b.orientation=a.orientation?a.orientation:"horizontal";return b};b.prototype.n_=function(){var a={};a.start=this.uM.getTime();a.end=this.oL.getTime();return a};var f={};a.v.F(f,a.v,"DvtTimeAxisRenderer");f.ssb=function(a){if(a.Uw()){var b=a.ve();f.mgb(a,b,h.CTa(a.W))}};f.mgb=function(b,c,d){var e=0,r=b.u();if(null==b.Cg){var q=new a.wd;b.Gb()?(b.Cg=new a.Rect(r,
e,-b.Sg("top"),c,b.PK,"axis"),q.Ce(e,0,c,b.le)):(b.Cg=new a.Rect(r,-b.Sg("left"),e,b.PK,c,"axis"),q.Ce(0,e,b.le,c));b.Cg.Db(b.P9);b.Cg.ed();b.Cg.he(q);b.A(b.Cg);(c=h.Plb(b.W))&&b.Cg.vA().Qa().setAttribute("class",c)}else b.Cg.he(null),q=new a.wd,b.Gb()?(b.Cg.Aa(e),b.Cg.fb(-b.Sg("top")),b.Cg.Xa(c),b.Cg.qb(b.PK),q.Ce(e,0,c,b.le)):(b.Cg.Aa(-b.Sg("left")),b.Cg.fb(e),b.Cg.Xa(b.PK),b.Cg.qb(c),q.Ce(0,e,b.le,c)),b.Cg.he(q);b.Cg.Vk();b.Cg.vA().Qa().setAttribute("stroke-dasharray",b.Ujb());d=new a.j(d);b.GW=
new a.xa(d.N(a.j.kc));c=b.Vv;e=e+b.Gb()?b.Sg("left"):b.Sg("top");f.ngb(b,b.qh,b.Cg,b.le,e+c,e,e)};f.ngb=function(b,c,d,e,r,q,w){var x=b.u(),v=a.B.ba(x),z=new a.la(x,"block_0_"+c);z.NN=0;z.GI=c;d.A(z);c=h.Qlb(b.W);d=h.Slb(b.W);for(var u=b.HJa[b.rp],D=b.ao[b.rp],B=0;B<u.length-1;B++){var C=u[B],y=u[B+1],G=a.Ob.Xe(b.Xb,b.Hc,C,e),y=a.Ob.Xe(b.Xb,b.Hc,y,e),A=y-G;0!=G&&((b.Gb()?f.kma(x,z,r,q,G,G,b.GW,"s_tick"+C,d):v?f.kma(x,z,e-G,e-G,r,q,b.GW,"s_tick"+C,d):f.kma(x,z,G,G,r,q,b.GW,"s_tick"+C,d)).time=C);b.Gb()?
f.gma(z,D[B],w+(r-w)/2,G+(y-G)/2,r-w,c):v?f.gma(z,D[B],e-(G+(y-G)/2),w+(r-w)/2,A,c):f.gma(z,D[B],G+(y-G)/2,w+(r-w)/2,A,c)}};f.gma=function(b,c,d,e,f,h){c.Aa(d);c.fb(e);c.En()&&c.dg(c.sq());a.Ca.hd(c,f,Infinity,b);c.Zf();a.Ca.oX(c,e);h&&c.vA().Qa().setAttribute("class",h)};f.kma=function(b,c,d,e,f,h,w,x,v){b=new a.Ec(b,d,f,e,h,x);b.Ga(w);b.ed();c.A(b);v&&b.vA().Qa().setAttribute("class",v);return b};var h={};a.v.F(h,a.v,"DvtTimeAxisStyleUtils");h.AAa=1;h.A_a=1;h.EAa=50;h.CAa=21;h.DAa=2;h.Tlb=function(a){var b=
"",c=h.Ulb(a);c&&(b=b+"background-color:"+c+";");(c=h.io(a))&&(b=b+"border-color:"+c+";");(c=h.Sg())&&(b=b+"border-width:"+c+";");return b};h.Ulb=function(a){return a.backgroundColor};h.io=function(a){return a.borderColor};h.Sg=function(){return h.AAa};h.Rlb=function(a){return a.labelStyle};h.ewa=function(a){return a.separatorColor};h.CTa=function(a){var b="";(a=h.ewa(a))&&(b=b+"color:"+a+";");return b};h.Plb=function(a){return a._resources?a._resources.axisClass:void 0};h.Lxb=function(a){return a._resources?
a._resources.axisBorderClass:void 0};h.Qlb=function(a){return a._resources?a._resources.axisLabelClass:void 0};h.Slb=function(a){return a._resources?a._resources.axisSeparatorClass:void 0};h.eyb=function(a){return a._resources?a._resources.borderTopVisible:!1};h.dyb=function(a){return a._resources?a._resources.borderRightVisible:!1};h.byb=function(a){return a._resources?a._resources.borderBottomVisible:!1};h.cyb=function(a){return a._resources?a._resources.borderLeftVisible:!1};a.Ia(a,"TimeAxis",
a.Ob);a.Ia(a.Ob,"newInstance",a.Ob.newInstance);a.Ia(a.Ob.prototype,"render",a.Ob.prototype.ta)})(dvt);
  return dvt;
});
